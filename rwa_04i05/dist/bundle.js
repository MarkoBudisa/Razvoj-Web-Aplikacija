/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var t=function(n,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(n,r)};function n(n,r){function e(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}function r(t){return"function"==typeof t}var e=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack,e=t},get useDeprecatedSynchronousErrorHandling(){return e}};function o(t){setTimeout((function(){throw t}),0)}var u={closed:!0,next:function(t){},error:function(t){if(i.useDeprecatedSynchronousErrorHandling)throw t;o(t)},complete:function(){}},s=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}();function c(t){return null!==t&&"object"==typeof t}var h=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,n){return n+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),f=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var n;if(!this.closed){var e=this,i=e._parentOrParents,o=e._ctorUnsubscribe,u=e._unsubscribe,f=e._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,i instanceof t)i.remove(this);else if(null!==i)for(var p=0;p<i.length;++p)i[p].remove(this);if(r(u)){o&&(this._unsubscribe=void 0);try{u.call(this)}catch(t){n=t instanceof h?a(t.errors):[t]}}if(s(f)){p=-1;for(var l=f.length;++p<l;){var d=f[p];if(c(d))try{d.unsubscribe()}catch(t){n=n||[],t instanceof h?n=n.concat(a(t.errors)):n.push(t)}}}if(n)throw new h(n)}},t.prototype.add=function(n){var r=n;if(!n)return t.EMPTY;switch(typeof n){case"function":r=new t(n);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var e=r;(r=new t)._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+n+" added to Subscription.")}var i=r._parentOrParents;if(null===i)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return r;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[r]:o.push(r),r},t.prototype.remove=function(t){var n=this._subscriptions;if(n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function a(t){return t.reduce((function(t,n){return t.concat(n instanceof h?n.errors:n)}),[])}var p=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),l=function(t){function r(n,e,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=u;break;case 1:if(!n){o.destination=u;break}if("object"==typeof n){n instanceof r?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new d(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new d(o,n,e,i)}return o}return n(r,t),r.prototype[p]=function(){return this},r.create=function(t,n,e){var i=new r(t,n,e);return i.syncErrorThrowable=!1,i},r.prototype.next=function(t){this.isStopped||this._next(t)},r.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},r.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},r.prototype._next=function(t){this.destination.next(t)},r.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},r.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},r.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},r}(f),d=function(t){function e(n,e,i,o){var s,c=t.call(this)||this;c._parentSubscriber=n;var h=c;return r(e)?s=e:e&&(s=e.next,i=e.error,o=e.complete,e!==u&&(r((h=Object.create(e)).unsubscribe)&&c.add(h.unsubscribe.bind(h)),h.unsubscribe=c.unsubscribe.bind(c))),c._context=h,c._next=s,c._error=i,c._complete=o,c}return n(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var n=this._parentSubscriber;i.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable?this.__tryOrSetError(n,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var n=this._parentSubscriber,r=i.useDeprecatedSynchronousErrorHandling;if(this._error)r&&n.syncErrorThrowable?(this.__tryOrSetError(n,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(n.syncErrorThrowable)r?(n.syncErrorValue=t,n.syncErrorThrown=!0):o(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;o(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};i.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable?(this.__tryOrSetError(n,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,n){try{t.call(this._context,n)}catch(t){if(this.unsubscribe(),i.useDeprecatedSynchronousErrorHandling)throw t;o(t)}},e.prototype.__tryOrSetError=function(t,n,r){if(!i.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,r)}catch(n){return i.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=n,t.syncErrorThrown=!0,!0):(o(n),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(l),b=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function y(t){return t}function v(t){return 0===t.length?y:1===t.length?t[0]:function(n){return t.reduce((function(t,n){return n(t)}),n)}}var w=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(n){var r=new t;return r.source=this,r.operator=n,r},t.prototype.subscribe=function(t,n,r){var e=this.operator,o=function(t,n,r){if(t){if(t instanceof l)return t;if(t[p])return t[p]()}return t||n||r?new l(t,n,r):new l(u)}(t,n,r);if(e?o.add(e.call(o,this.source)):o.add(this.source||i.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),i.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){i.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=n),function(t){for(;t;){var n=t,r=n.closed,e=n.destination,i=n.isStopped;if(r||i)return!1;t=e&&e instanceof l?e:null}return!0}(t)?t.error(n):console.warn(n)}},t.prototype.forEach=function(t,n){var r=this;return new(n=_(n))((function(n,e){var i;i=r.subscribe((function(n){try{t(n)}catch(t){e(t),i&&i.unsubscribe()}}),e,n)}))},t.prototype._subscribe=function(t){var n=this.source;return n&&n.subscribe(t)},t.prototype[b]=function(){return this},t.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 0===t.length?this:v(t)(this)},t.prototype.toPromise=function(t){var n=this;return new(t=_(t))((function(t,r){var e;n.subscribe((function(t){return e=t}),(function(t){return r(t)}),(function(){return t(e)}))}))},t.create=function(n){return new t(n)},t}();function _(t){if(t||(t=i.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var m=function(t){return function(n){for(var r=0,e=t.length;r<e&&!n.closed;r++)n.next(t[r]);n.complete()}};function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var E=g(),S=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function x(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var T=function(t){if(t&&"function"==typeof t[b])return e=t,function(t){var n=e[b]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)};if(S(t))return m(t);if(x(t))return r=t,function(t){return r.then((function(n){t.closed||(t.next(n),t.complete())}),(function(n){return t.error(n)})).then(null,o),t};if(t&&"function"==typeof t[E])return n=t,function(t){for(var r=n[E]();;){var e=void 0;try{e=r.next()}catch(n){return t.error(n),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof r.return&&t.add((function(){r.return&&r.return()})),t};var n,r,e,i=c(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+i+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function I(t,n){return new w((function(r){var e=new f,i=0;return e.add(n.schedule((function(){i!==t.length?(r.next(t[i++]),r.closed||e.add(this.schedule())):r.complete()}))),e}))}function O(t,n){return n?function(t,n){if(null!=t){if(function(t){return t&&"function"==typeof t[b]}(t))return function(t,n){return new w((function(r){var e=new f;return e.add(n.schedule((function(){var i=t[b]();e.add(i.subscribe({next:function(t){e.add(n.schedule((function(){return r.next(t)})))},error:function(t){e.add(n.schedule((function(){return r.error(t)})))},complete:function(){e.add(n.schedule((function(){return r.complete()})))}}))}))),e}))}(t,n);if(x(t))return function(t,n){return new w((function(r){var e=new f;return e.add(n.schedule((function(){return t.then((function(t){e.add(n.schedule((function(){r.next(t),e.add(n.schedule((function(){return r.complete()})))})))}),(function(t){e.add(n.schedule((function(){return r.error(t)})))}))}))),e}))}(t,n);if(S(t))return I(t,n);if(function(t){return t&&"function"==typeof t[E]}(t)||"string"==typeof t)return function(t,n){if(!t)throw new Error("Iterable cannot be null");return new w((function(r){var e,i=new f;return i.add((function(){e&&"function"==typeof e.return&&e.return()})),i.add(n.schedule((function(){e=t[E](),i.add(n.schedule((function(){if(!r.closed){var t,n;try{var i=e.next();t=i.value,n=i.done}catch(t){return void r.error(t)}n?r.complete():(r.next(t),this.schedule())}})))}))),i}))}(t,n)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,n):t instanceof w?t:new w(T(t))}function A(t,n){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new P(t,n))}}var P=function(){function t(t,n){this.project=t,this.thisArg=n}return t.prototype.call=function(t,n){return n.subscribe(new j(t,this.project,this.thisArg))},t}(),j=function(t){function r(n,r,e){var i=t.call(this,n)||this;return i.project=r,i.count=0,i.thisArg=e||i,i}return n(r,t),r.prototype._next=function(t){var n;try{n=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(n)},r}(l);function N(t,n,r,e,i){var o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){var u=t;t.addEventListener(n,r,i),o=function(){return u.removeEventListener(n,r,i)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){var s=t;t.on(n,r),o=function(){return s.off(n,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){var c=t;t.addListener(n,r),o=function(){return c.removeListener(n,r)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var h=0,f=t.length;h<f;h++)N(t[h],n,r,e,i)}e.add(o)}var V=function(t){function r(n,r){var e=t.call(this,n,r)||this;return e.scheduler=n,e.work=r,e.pending=!1,e}return n(r,t),r.prototype.schedule=function(t,n){if(void 0===n&&(n=0),this.closed)return this;this.state=t;var r=this.id,e=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(e,r,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(e,this.id,n),this},r.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),setInterval(t.flush.bind(t,this),r)},r.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return n;clearInterval(n)},r.prototype.execute=function(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},r.prototype._execute=function(t,n){var r=!1,e=void 0;try{this.work(t)}catch(t){r=!0,e=!!t&&t||new Error(t)}if(r)return this.unsubscribe(),e},r.prototype._unsubscribe=function(){var t=this.id,n=this.scheduler,r=n.actions,e=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==e&&r.splice(e,1),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null},r}(function(t){function r(n,r){return t.call(this)||this}return n(r,t),r.prototype.schedule=function(t,n){return void 0===n&&(n=0),this},r}(f)),D=function(){function t(n,r){void 0===r&&(r=t.now),this.SchedulerAction=n,this.now=r}return t.prototype.schedule=function(t,n,r){return void 0===n&&(n=0),new this.SchedulerAction(this,t).schedule(r,n)},t.now=function(){return Date.now()},t}(),k=new(function(t){function r(n,e){void 0===e&&(e=D.now);var i=t.call(this,n,(function(){return r.delegate&&r.delegate!==i?r.delegate.now():e()}))||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return n(r,t),r.prototype.schedule=function(n,e,i){return void 0===e&&(e=0),r.delegate&&r.delegate!==this?r.delegate.schedule(n,e,i):t.prototype.schedule.call(this,n,e,i)},r.prototype.flush=function(t){var n=this.actions;if(this.active)n.push(t);else{var r;this.active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this.active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}},r}(D))(V);function H(t,n){var r;return void 0===t&&(t=0),void 0===n&&(n=k),(s(r=t)||!(r-parseFloat(r)+1>=0)||t<0)&&(t=0),n&&"function"==typeof n.schedule||(n=k),new w((function(r){return r.add(n.schedule(Y,t,{subscriber:r,counter:0,period:t})),r}))}function Y(t){var n=t.subscriber,r=t.counter,e=t.period;n.next(r),this.schedule({subscriber:n,counter:r+1,period:e},e)}function C(t){return t&&"function"==typeof t.schedule}var L=function(t){function r(n){var r=t.call(this)||this;return r.parent=n,r}return n(r,t),r.prototype._next=function(t){this.parent.notifyNext(t)},r.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},r.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},r}(l),U=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return n(r,t),r.prototype.notifyNext=function(t){this.destination.next(t)},r.prototype.notifyError=function(t){this.destination.error(t)},r.prototype.notifyComplete=function(){this.destination.complete()},r}(l);function F(t,n){if(!n.closed){if(t instanceof w)return t.subscribe(n);var r;try{r=T(t)(n)}catch(t){n.error(t)}return r}}function M(t,n,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof n?function(e){return e.pipe(M((function(r,e){return O(t(r,e)).pipe(A((function(t,i){return n(r,t,e,i)})))}),r))}:("number"==typeof n&&(r=n),function(n){return n.lift(new R(t,r))})}var R=function(){function t(t,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=n}return t.prototype.call=function(t,n){return n.subscribe(new q(t,this.project,this.concurrent))},t}(),q=function(t){function r(n,r,e){void 0===e&&(e=Number.POSITIVE_INFINITY);var i=t.call(this,n)||this;return i.project=r,i.concurrent=e,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return n(r,t),r.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},r.prototype._tryNext=function(t){var n,r=this.index++;try{n=this.project(t,r)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(n)},r.prototype._innerSub=function(t){var n=new L(this),r=this.destination;r.add(n);var e=F(t,n);e!==n&&r.add(e)},r.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},r.prototype.notifyNext=function(t){this.destination.next(t)},r.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},r}(U);function z(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),M(y,t)}function B(t,n){return n?I(t,n):new w(m(t))}var G=function(){function t(t,n){this.dueTime=t,this.scheduler=n}return t.prototype.call=function(t,n){return n.subscribe(new J(t,this.dueTime,this.scheduler))},t}(),J=function(t){function r(n,r,e){var i=t.call(this,n)||this;return i.dueTime=r,i.scheduler=e,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return n(r,t),r.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(K,this.dueTime,this))},r.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},r.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},r.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},r}(l);function K(t){t.debouncedNext()}var Q=function(){function t(t,n){this.predicate=t,this.thisArg=n}return t.prototype.call=function(t,n){return n.subscribe(new W(t,this.predicate,this.thisArg))},t}(),W=function(t){function r(n,r,e){var i=t.call(this,n)||this;return i.predicate=r,i.thisArg=e,i.count=0,i}return n(r,t),r.prototype._next=function(t){var n;try{n=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}n&&this.destination.next(t)},r}(l);var X=function(){function t(t){this.project=t}return t.prototype.call=function(t,n){return n.subscribe(new Z(t,this.project))},t}(),Z=function(t){function r(n,r){var e=t.call(this,n)||this;return e.project=r,e.index=0,e}return n(r,t),r.prototype._next=function(t){var n,r=this.index++;try{n=this.project(t,r)}catch(t){return void this.destination.error(t)}this._innerSub(n)},r.prototype._innerSub=function(t){var n=this.innerSubscription;n&&n.unsubscribe();var r=new L(this),e=this.destination;e.add(r),this.innerSubscription=F(t,r),this.innerSubscription!==r&&e.add(this.innerSubscription)},r.prototype._complete=function(){var n=this.innerSubscription;n&&!n.closed||t.prototype._complete.call(this),this.unsubscribe()},r.prototype._unsubscribe=function(){this.innerSubscription=void 0},r.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},r.prototype.notifyNext=function(t){this.destination.next(t)},r}(U),$=new w((function(t){return t.complete()}));function tt(t){return t?function(t){return new w((function(n){return t.schedule((function(){return n.complete()}))}))}(t):$}var nt=function(){function t(t,n){this.count=t,this.source=n}return t.prototype.call=function(t,n){return n.subscribe(new rt(t,this.count,this.source))},t}(),rt=function(t){function r(n,r,e){var i=t.call(this,n)||this;return i.count=r,i.source=e,i}return n(r,t),r.prototype.complete=function(){if(!this.isStopped){var n=this.source,r=this.count;if(0===r)return t.prototype.complete.call(this);r>-1&&(this.count=r-1),n.subscribe(this._unsubscribeAndRecycle())}},r}(l),et=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();function it(t){return function(n){return 0===t?tt():n.lift(new ht(t))}}var ot,ut,st,ct,ht=function(){function t(t){if(this.total=t,this.total<0)throw new et}return t.prototype.call=function(t,n){return n.subscribe(new ft(t,this.total))},t}(),ft=function(t){function r(n,r){var e=t.call(this,n)||this;return e.total=r,e.count=0,e}return n(r,t),r.prototype._next=function(t){var n=this.total,r=++this.count;r<=n&&(this.destination.next(t),r===n&&(this.destination.complete(),this.unsubscribe()))},r}(l);ct=document.createElement("input"),document.body.appendChild(ct),function t(n,e,i,o){return r(i)&&(o=i,i=void 0),o?t(n,e,i).pipe(A((function(t){return s(t)?o.apply(void 0,t):o(t)}))):new w((function(t){N(n,e,(function(n){arguments.length>1?t.next(Array.prototype.slice.call(arguments)):t.next(n)}),t,i)}))}(ct,"input").pipe((700,void 0===st&&(st=k),function(t){return t.lift(new G(700,st))}),A((function(t){return t.target.value})),(ut=function(t){return t.length>=3},function(t){return t.lift(new Q(ut,undefined))}),function t(n,r){return"function"==typeof r?function(e){return e.pipe(t((function(t,e){return O(n(t,e)).pipe(A((function(n,i){return r(t,n,e,i)})))})))}:function(t){return t.lift(new X(n))}}((function(t){return function(t){return O(fetch("http://localhost:3000/movies/?title="+t).then((function(t){if(t.ok)return t.json();throw new Error("Movie not found")})).catch((function(t){return console.log(t)})))}(t)})),(ot=5,void 0===ot&&(ot=-1),function(t){return 0===ot?tt():ot<0?t.lift(new nt(-1,t)):t.lift(new nt(ot-1,t))}),A((function(t){return t[0]}))).subscribe((function(t){return function(t){if(t){var n=document.createElement("label");document.body.appendChild(n),n.innerHTML="Title: "+t.title+" Score: "+t.score+" Year: "+t.year}}(t)})),function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Number.POSITIVE_INFINITY,e=null,i=t[t.length-1];return C(i)?(e=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof i&&(r=t.pop()),null===e&&1===t.length&&t[0]instanceof w?t[0]:z(r)(B(t,e))}(H(1e3).pipe(A((function(t){return"prvi stream: "+t})),it(5)),H(500).pipe(A((function(t){return"drugi stream: "+t})),it(7))).subscribe((function(t){return console.log(t)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yd2F0ZXN0Y2FzNC8uL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3ZWJwYWNrOi8vcndhdGVzdGNhczQvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzRnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vcndhdGVzdGNhczQvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9jb25maWcuanMiLCJ3ZWJwYWNrOi8vcndhdGVzdGNhczQvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2hvc3RSZXBvcnRFcnJvci5qcyIsIndlYnBhY2s6Ly9yd2F0ZXN0Y2FzNC8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL09ic2VydmVyLmpzIiwid2VicGFjazovL3J3YXRlc3RjYXM0Ly4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9pc0FycmF5LmpzIiwid2VicGFjazovL3J3YXRlc3RjYXM0Ly4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9pc09iamVjdC5qcyIsIndlYnBhY2s6Ly9yd2F0ZXN0Y2FzNC8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvVW5zdWJzY3JpcHRpb25FcnJvci5qcyIsIndlYnBhY2s6Ly9yd2F0ZXN0Y2FzNC8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL1N1YnNjcmlwdGlvbi5qcyIsIndlYnBhY2s6Ly9yd2F0ZXN0Y2FzNC8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3N5bWJvbC9yeFN1YnNjcmliZXIuanMiLCJ3ZWJwYWNrOi8vcndhdGVzdGNhczQvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9TdWJzY3JpYmVyLmpzIiwid2VicGFjazovL3J3YXRlc3RjYXM0Ly4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc3ltYm9sL29ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vcndhdGVzdGNhczQvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lkZW50aXR5LmpzIiwid2VicGFjazovL3J3YXRlc3RjYXM0Ly4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9waXBlLmpzIiwid2VicGFjazovL3J3YXRlc3RjYXM0Ly4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly9yd2F0ZXN0Y2FzNC8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvdG9TdWJzY3JpYmVyLmpzIiwid2VicGFjazovL3J3YXRlc3RjYXM0Ly4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9jYW5SZXBvcnRFcnJvci5qcyIsIndlYnBhY2s6Ly9yd2F0ZXN0Y2FzNC8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvc3Vic2NyaWJlVG9BcnJheS5qcyIsIndlYnBhY2s6Ly9yd2F0ZXN0Y2FzNC8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3N5bWJvbC9pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly9yd2F0ZXN0Y2FzNC8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNBcnJheUxpa2UuanMiLCJ3ZWJwYWNrOi8vcndhdGVzdGNhczQvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzUHJvbWlzZS5qcyIsIndlYnBhY2s6Ly9yd2F0ZXN0Y2FzNC8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvc3Vic2NyaWJlVG8uanMiLCJ3ZWJwYWNrOi8vcndhdGVzdGNhczQvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL3N1YnNjcmliZVRvT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly9yd2F0ZXN0Y2FzNC8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvc3Vic2NyaWJlVG9Qcm9taXNlLmpzIiwid2VicGFjazovL3J3YXRlc3RjYXM0Ly4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9zdWJzY3JpYmVUb0l0ZXJhYmxlLmpzIiwid2VicGFjazovL3J3YXRlc3RjYXM0Ly4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlQXJyYXkuanMiLCJ3ZWJwYWNrOi8vcndhdGVzdGNhczQvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2Zyb20uanMiLCJ3ZWJwYWNrOi8vcndhdGVzdGNhczQvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVkLmpzIiwid2VicGFjazovL3J3YXRlc3RjYXM0Ly4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9pc0ludGVyb3BPYnNlcnZhYmxlLmpzIiwid2VicGFjazovL3J3YXRlc3RjYXM0Ly4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly9yd2F0ZXN0Y2FzNC8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZVByb21pc2UuanMiLCJ3ZWJwYWNrOi8vcndhdGVzdGNhczQvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzSXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vcndhdGVzdGNhczQvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVJdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly9yd2F0ZXN0Y2FzNC8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9tYXAuanMiLCJ3ZWJwYWNrOi8vcndhdGVzdGNhczQvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2Zyb21FdmVudC5qcyIsIndlYnBhY2s6Ly9yd2F0ZXN0Y2FzNC8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlci9BY3Rpb24uanMiLCJ3ZWJwYWNrOi8vcndhdGVzdGNhczQvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvQXN5bmNBY3Rpb24uanMiLCJ3ZWJwYWNrOi8vcndhdGVzdGNhczQvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9TY2hlZHVsZXIuanMiLCJ3ZWJwYWNrOi8vcndhdGVzdGNhczQvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvYXN5bmMuanMiLCJ3ZWJwYWNrOi8vcndhdGVzdGNhczQvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvQXN5bmNTY2hlZHVsZXIuanMiLCJ3ZWJwYWNrOi8vcndhdGVzdGNhczQvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2ludGVydmFsLmpzIiwid2VicGFjazovL3J3YXRlc3RjYXM0Ly4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9pc051bWVyaWMuanMiLCJ3ZWJwYWNrOi8vcndhdGVzdGNhczQvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzU2NoZWR1bGVyLmpzIiwid2VicGFjazovL3J3YXRlc3RjYXM0Ly4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvaW5uZXJTdWJzY3JpYmUuanMiLCJ3ZWJwYWNrOi8vcndhdGVzdGNhczQvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VNYXAuanMiLCJ3ZWJwYWNrOi8vcndhdGVzdGNhczQvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VBbGwuanMiLCJ3ZWJwYWNrOi8vcndhdGVzdGNhczQvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2Zyb21BcnJheS5qcyIsIndlYnBhY2s6Ly9yd2F0ZXN0Y2FzNC8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9kZWJvdW5jZVRpbWUuanMiLCJ3ZWJwYWNrOi8vcndhdGVzdGNhczQvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvZmlsdGVyLmpzIiwid2VicGFjazovL3J3YXRlc3RjYXM0Ly4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3N3aXRjaE1hcC5qcyIsIndlYnBhY2s6Ly9yd2F0ZXN0Y2FzNC8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvZW1wdHkuanMiLCJ3ZWJwYWNrOi8vcndhdGVzdGNhczQvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvcmVwZWF0LmpzIiwid2VicGFjazovL3J3YXRlc3RjYXM0Ly4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9Bcmd1bWVudE91dE9mUmFuZ2VFcnJvci5qcyIsIndlYnBhY2s6Ly9yd2F0ZXN0Y2FzNC8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy90YWtlLmpzIiwid2VicGFjazovL3J3YXRlc3RjYXM0Ly4vc3JjL2luZGV4LnRzIiwid2VicGFjazovL3J3YXRlc3RjYXM0Ly4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9tZXJnZS5qcyJdLCJuYW1lcyI6WyJleHRlbmRTdGF0aWNzIiwiZCIsImIiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIkFycmF5IiwicCIsImhhc093blByb3BlcnR5IiwiX19leHRlbmRzIiwiX18iLCJ0aGlzIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJjcmVhdGUiLCJpc0Z1bmN0aW9uIiwieCIsIl9lbmFibGVfc3VwZXJfZ3Jvc3NfbW9kZV90aGF0X3dpbGxfY2F1c2VfYmFkX3RoaW5ncyIsImNvbmZpZyIsIlByb21pc2UiLCJ1bmRlZmluZWQiLCJ2YWx1ZSIsIkVycm9yIiwic3RhY2siLCJob3N0UmVwb3J0RXJyb3IiLCJlcnIiLCJzZXRUaW1lb3V0IiwiZW1wdHkiLCJjbG9zZWQiLCJuZXh0IiwiZXJyb3IiLCJ1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nIiwiY29tcGxldGUiLCJpc0FycmF5IiwibGVuZ3RoIiwiaXNPYmplY3QiLCJVbnN1YnNjcmlwdGlvbkVycm9yIiwiVW5zdWJzY3JpcHRpb25FcnJvckltcGwiLCJlcnJvcnMiLCJjYWxsIiwibWVzc2FnZSIsIm1hcCIsImkiLCJ0b1N0cmluZyIsImpvaW4iLCJuYW1lIiwiU3Vic2NyaXB0aW9uIiwidW5zdWJzY3JpYmUiLCJfcGFyZW50T3JQYXJlbnRzIiwiX3N1YnNjcmlwdGlvbnMiLCJfY3RvclVuc3Vic2NyaWJlIiwiX3Vuc3Vic2NyaWJlIiwiX2EiLCJyZW1vdmUiLCJpbmRleCIsImUiLCJmbGF0dGVuVW5zdWJzY3JpcHRpb25FcnJvcnMiLCJsZW4iLCJzdWIiLCJjb25jYXQiLCJwdXNoIiwiYWRkIiwidGVhcmRvd24iLCJzdWJzY3JpcHRpb24iLCJFTVBUWSIsInRtcCIsImluZGV4T2YiLCJzdWJzY3JpcHRpb25zIiwic3Vic2NyaXB0aW9uSW5kZXgiLCJzcGxpY2UiLCJyZWR1Y2UiLCJlcnJzIiwicnhTdWJzY3JpYmVyIiwiU3ltYm9sIiwiTWF0aCIsInJhbmRvbSIsIlN1YnNjcmliZXIiLCJfc3VwZXIiLCJkZXN0aW5hdGlvbk9yTmV4dCIsIl90aGlzIiwic3luY0Vycm9yVmFsdWUiLCJzeW5jRXJyb3JUaHJvd24iLCJzeW5jRXJyb3JUaHJvd2FibGUiLCJpc1N0b3BwZWQiLCJhcmd1bWVudHMiLCJkZXN0aW5hdGlvbiIsIlNhZmVTdWJzY3JpYmVyIiwic3Vic2NyaWJlciIsIl9uZXh0IiwiX2Vycm9yIiwiX2NvbXBsZXRlIiwiX3Vuc3Vic2NyaWJlQW5kUmVjeWNsZSIsIl9wYXJlbnRTdWJzY3JpYmVyIiwib2JzZXJ2ZXJPck5leHQiLCJjb250ZXh0IiwiYmluZCIsIl9jb250ZXh0IiwiX190cnlPclNldEVycm9yIiwiX190cnlPclVuc3ViIiwid3JhcHBlZENvbXBsZXRlIiwiZm4iLCJwYXJlbnQiLCJvYnNlcnZhYmxlIiwiaWRlbnRpdHkiLCJwaXBlRnJvbUFycmF5IiwiZm5zIiwiaW5wdXQiLCJwcmV2IiwiT2JzZXJ2YWJsZSIsInN1YnNjcmliZSIsIl9pc1NjYWxhciIsIl9zdWJzY3JpYmUiLCJsaWZ0Iiwib3BlcmF0b3IiLCJzb3VyY2UiLCJzaW5rIiwibmV4dE9yT2JzZXJ2ZXIiLCJ0b1N1YnNjcmliZXIiLCJfdHJ5U3Vic2NyaWJlIiwib2JzZXJ2ZXIiLCJjbG9zZWRfMSIsImNhblJlcG9ydEVycm9yIiwiY29uc29sZSIsIndhcm4iLCJmb3JFYWNoIiwicHJvbWlzZUN0b3IiLCJnZXRQcm9taXNlQ3RvciIsInJlc29sdmUiLCJyZWplY3QiLCJwaXBlIiwib3BlcmF0aW9ucyIsIl9pIiwidG9Qcm9taXNlIiwic3Vic2NyaWJlVG9BcnJheSIsImFycmF5IiwiZ2V0U3ltYm9sSXRlcmF0b3IiLCJpdGVyYXRvciIsImlzQXJyYXlMaWtlIiwiaXNQcm9taXNlIiwidGhlbiIsInN1YnNjcmliZVRvIiwicmVzdWx0Iiwib2JqIiwib2JzIiwiVHlwZUVycm9yIiwicHJvbWlzZSIsIml0ZXJhYmxlIiwiaXRlbSIsImRvbmUiLCJyZXR1cm4iLCJzY2hlZHVsZUFycmF5Iiwic2NoZWR1bGVyIiwic2NoZWR1bGUiLCJmcm9tIiwiaXNJbnRlcm9wT2JzZXJ2YWJsZSIsInNjaGVkdWxlT2JzZXJ2YWJsZSIsInNjaGVkdWxlUHJvbWlzZSIsImlzSXRlcmFibGUiLCJzY2hlZHVsZUl0ZXJhYmxlIiwic2NoZWR1bGVkIiwicHJvamVjdCIsInRoaXNBcmciLCJNYXBPcGVyYXRvciIsIk1hcFN1YnNjcmliZXIiLCJjb3VudCIsInNldHVwU3Vic2NyaXB0aW9uIiwic291cmNlT2JqIiwiZXZlbnROYW1lIiwiaGFuZGxlciIsIm9wdGlvbnMiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImlzRXZlbnRUYXJnZXQiLCJzb3VyY2VfMSIsIm9uIiwib2ZmIiwiaXNKUXVlcnlTdHlsZUV2ZW50RW1pdHRlciIsInNvdXJjZV8yIiwiYWRkTGlzdGVuZXIiLCJyZW1vdmVMaXN0ZW5lciIsImlzTm9kZVN0eWxlRXZlbnRFbWl0dGVyIiwic291cmNlXzMiLCJBc3luY0FjdGlvbiIsIndvcmsiLCJwZW5kaW5nIiwic3RhdGUiLCJkZWxheSIsImlkIiwicmVjeWNsZUFzeW5jSWQiLCJyZXF1ZXN0QXN5bmNJZCIsInNldEludGVydmFsIiwiZmx1c2giLCJjbGVhckludGVydmFsIiwiZXhlY3V0ZSIsIl9leGVjdXRlIiwiZXJyb3JlZCIsImVycm9yVmFsdWUiLCJhY3Rpb25zIiwiQWN0aW9uIiwiU2NoZWR1bGVyIiwiU2NoZWR1bGVyQWN0aW9uIiwibm93IiwiRGF0ZSIsIkFzeW5jU2NoZWR1bGVyIiwiZGVsZWdhdGUiLCJhY3RpdmUiLCJhY3Rpb24iLCJzaGlmdCIsImludGVydmFsIiwicGVyaW9kIiwidmFsIiwicGFyc2VGbG9hdCIsImRpc3BhdGNoIiwiY291bnRlciIsImlzU2NoZWR1bGVyIiwiU2ltcGxlSW5uZXJTdWJzY3JpYmVyIiwibm90aWZ5TmV4dCIsIm5vdGlmeUVycm9yIiwibm90aWZ5Q29tcGxldGUiLCJTaW1wbGVPdXRlclN1YnNjcmliZXIiLCJhcHBseSIsImlubmVyVmFsdWUiLCJpbm5lclN1YnNjcmliZSIsImlubmVyU3Vic2NyaWJlciIsIm1lcmdlTWFwIiwicmVzdWx0U2VsZWN0b3IiLCJjb25jdXJyZW50IiwiTnVtYmVyIiwiUE9TSVRJVkVfSU5GSU5JVFkiLCJhIiwiaWkiLCJNZXJnZU1hcE9wZXJhdG9yIiwiTWVyZ2VNYXBTdWJzY3JpYmVyIiwiaGFzQ29tcGxldGVkIiwiYnVmZmVyIiwiX3RyeU5leHQiLCJfaW5uZXJTdWIiLCJpc2giLCJpbm5lclN1YnNjcmlwdGlvbiIsIm1lcmdlQWxsIiwiZnJvbUFycmF5IiwiRGVib3VuY2VUaW1lT3BlcmF0b3IiLCJkdWVUaW1lIiwiRGVib3VuY2VUaW1lU3Vic2NyaWJlciIsImRlYm91bmNlZFN1YnNjcmlwdGlvbiIsImxhc3RWYWx1ZSIsImhhc1ZhbHVlIiwiY2xlYXJEZWJvdW5jZSIsImRpc3BhdGNoTmV4dCIsImRlYm91bmNlZE5leHQiLCJGaWx0ZXJPcGVyYXRvciIsInByZWRpY2F0ZSIsIkZpbHRlclN1YnNjcmliZXIiLCJTd2l0Y2hNYXBPcGVyYXRvciIsIlN3aXRjaE1hcFN1YnNjcmliZXIiLCJlbXB0eVNjaGVkdWxlZCIsIlJlcGVhdE9wZXJhdG9yIiwiUmVwZWF0U3Vic2NyaWJlciIsIkFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yIiwiQXJndW1lbnRPdXRPZlJhbmdlRXJyb3JJbXBsIiwidGFrZSIsIlRha2VPcGVyYXRvciIsInRvdGFsIiwiVGFrZVN1YnNjcmliZXIiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJ0YXJnZXQiLCJhcmdzIiwic2xpY2UiLCJldiIsInRleHQiLCJzd2l0Y2hNYXAiLCJ0aXRsZSIsImZldGNoIiwiQVBJX1VSTCIsInJlc25vc2UiLCJvayIsImpzb24iLCJjYXRjaCIsImxvZyIsImdldE1vdmllc09ic2VydmFibGVCeVRpdGxlIiwibW92aWVzIiwibW92aWUiLCJtb3ZpZUxhYmVsIiwiaW5uZXJIVE1MIiwic2NvcmUiLCJ5ZWFyIiwic2hvd01vdmllIiwib2JzZXJ2YWJsZXMiLCJsYXN0IiwicG9wIiwibWVyZ2Ui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T0FBUyxHQUFvRCxpQkFBeENnUSxFQUFZQSxFQUFZaFEsT0FBUyxLQUNsRWdNLEVBQWFnRSxFQUFZRSxRQUdSLGlCQUFURCxJQUNaakUsRUFBYWdFLEVBQVlFLE9BRVgsT0FBZDdJLEdBQTZDLElBQXZCMkksRUFBWWhRLFFBQWdCZ1EsRUFBWSxhQUFjdEwsRUFDckVzTCxFQUFZLEdBRWhCbkQsRUFBU2IsRUFBVGEsQ0FBcUJDLEVBQVVrRCxFQUFhM0ksSUQ2SHZEOEksQ0FsQmdCckYsRUFBUyxLQUFNL0UsS0FDN0IsR0FBSSxTQUFDakgsR0FBTSxzQkFBZ0JBLEtBQzNCb1AsR0FBSyxJQUdTcEQsRUFBUyxLQUFLL0UsS0FDNUIsR0FBSSxTQUFDakgsR0FBTSx1QkFBaUJBLEtBQzVCb1AsR0FBSyxLQVdpQnZKLFdBQVUsU0FBQzdGLEdBQU0sT0FBQTBHLFFBQVErSixJQUFJelEsTyIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jcmVhdGVCaW5kaW5nKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgb1trMl0gPSBtW2tdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gZ2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHByaXZhdGVNYXAuZ2V0KHJlY2VpdmVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHByaXZhdGVNYXAsIHZhbHVlKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gc2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZU1hcC5zZXQocmVjZWl2ZXIsIHZhbHVlKTtcclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxyXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbih4KSB7XG4gICAgcmV0dXJuIHR5cGVvZiB4ID09PSAnZnVuY3Rpb24nO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNGdW5jdGlvbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbnZhciBfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3MgPSBmYWxzZTtcbmV4cG9ydCB2YXIgY29uZmlnID0ge1xuICAgIFByb21pc2U6IHVuZGVmaW5lZCxcbiAgICBzZXQgdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBlcnJvciA9IC8qQF9fUFVSRV9fKi8gbmV3IEVycm9yKCk7XG4gICAgICAgICAgICAvKkBfX1BVUkVfXyovIGNvbnNvbGUud2FybignREVQUkVDQVRFRCEgUnhKUyB3YXMgc2V0IHRvIHVzZSBkZXByZWNhdGVkIHN5bmNocm9ub3VzIGVycm9yIGhhbmRsaW5nIGJlaGF2aW9yIGJ5IGNvZGUgYXQ6IFxcbicgKyBlcnJvci5zdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoX2VuYWJsZV9zdXBlcl9ncm9zc19tb2RlX3RoYXRfd2lsbF9jYXVzZV9iYWRfdGhpbmdzKSB7XG4gICAgICAgICAgICAvKkBfX1BVUkVfXyovIGNvbnNvbGUubG9nKCdSeEpTOiBCYWNrIHRvIGEgYmV0dGVyIGVycm9yIGJlaGF2aW9yLiBUaGFuayB5b3UuIDwzJyk7XG4gICAgICAgIH1cbiAgICAgICAgX2VuYWJsZV9zdXBlcl9ncm9zc19tb2RlX3RoYXRfd2lsbF9jYXVzZV9iYWRfdGhpbmdzID0gdmFsdWU7XG4gICAgfSxcbiAgICBnZXQgdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZygpIHtcbiAgICAgICAgcmV0dXJuIF9lbmFibGVfc3VwZXJfZ3Jvc3NfbW9kZV90aGF0X3dpbGxfY2F1c2VfYmFkX3RoaW5ncztcbiAgICB9LFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbmZpZy5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCBmdW5jdGlvbiBob3N0UmVwb3J0RXJyb3IoZXJyKSB7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHRocm93IGVycjsgfSwgMCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ob3N0UmVwb3J0RXJyb3IuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9jb25maWcsX3V0aWxfaG9zdFJlcG9ydEVycm9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4vY29uZmlnJztcbmltcG9ydCB7IGhvc3RSZXBvcnRFcnJvciB9IGZyb20gJy4vdXRpbC9ob3N0UmVwb3J0RXJyb3InO1xuZXhwb3J0IHZhciBlbXB0eSA9IHtcbiAgICBjbG9zZWQ6IHRydWUsXG4gICAgbmV4dDogZnVuY3Rpb24gKHZhbHVlKSB7IH0sXG4gICAgZXJyb3I6IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBob3N0UmVwb3J0RXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHsgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9ic2VydmVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IHZhciBpc0FycmF5ID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkgeyByZXR1cm4gQXJyYXkuaXNBcnJheSB8fCAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHggJiYgdHlwZW9mIHgubGVuZ3RoID09PSAnbnVtYmVyJzsgfSk7IH0pKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0FycmF5LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0KHgpIHtcbiAgICByZXR1cm4geCAhPT0gbnVsbCAmJiB0eXBlb2YgeCA9PT0gJ29iamVjdCc7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc09iamVjdC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbnZhciBVbnN1YnNjcmlwdGlvbkVycm9ySW1wbCA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBVbnN1YnNjcmlwdGlvbkVycm9ySW1wbChlcnJvcnMpIHtcbiAgICAgICAgRXJyb3IuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gZXJyb3JzID9cbiAgICAgICAgICAgIGVycm9ycy5sZW5ndGggKyBcIiBlcnJvcnMgb2NjdXJyZWQgZHVyaW5nIHVuc3Vic2NyaXB0aW9uOlxcblwiICsgZXJyb3JzLm1hcChmdW5jdGlvbiAoZXJyLCBpKSB7IHJldHVybiBpICsgMSArIFwiKSBcIiArIGVyci50b1N0cmluZygpOyB9KS5qb2luKCdcXG4gICcpIDogJyc7XG4gICAgICAgIHRoaXMubmFtZSA9ICdVbnN1YnNjcmlwdGlvbkVycm9yJztcbiAgICAgICAgdGhpcy5lcnJvcnMgPSBlcnJvcnM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBVbnN1YnNjcmlwdGlvbkVycm9ySW1wbC5wcm90b3R5cGUgPSAvKkBfX1BVUkVfXyovIE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKTtcbiAgICByZXR1cm4gVW5zdWJzY3JpcHRpb25FcnJvckltcGw7XG59KSgpO1xuZXhwb3J0IHZhciBVbnN1YnNjcmlwdGlvbkVycm9yID0gVW5zdWJzY3JpcHRpb25FcnJvckltcGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1VbnN1YnNjcmlwdGlvbkVycm9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfdXRpbF9pc0FycmF5LF91dGlsX2lzT2JqZWN0LF91dGlsX2lzRnVuY3Rpb24sX3V0aWxfVW5zdWJzY3JpcHRpb25FcnJvciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi91dGlsL2lzQXJyYXknO1xuaW1wb3J0IHsgaXNPYmplY3QgfSBmcm9tICcuL3V0aWwvaXNPYmplY3QnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IFVuc3Vic2NyaXB0aW9uRXJyb3IgfSBmcm9tICcuL3V0aWwvVW5zdWJzY3JpcHRpb25FcnJvcic7XG52YXIgU3Vic2NyaXB0aW9uID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN1YnNjcmlwdGlvbih1bnN1YnNjcmliZSkge1xuICAgICAgICB0aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wYXJlbnRPclBhcmVudHMgPSBudWxsO1xuICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25zID0gbnVsbDtcbiAgICAgICAgaWYgKHVuc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICB0aGlzLl9jdG9yVW5zdWJzY3JpYmUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fdW5zdWJzY3JpYmUgPSB1bnN1YnNjcmliZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZXJyb3JzO1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2EgPSB0aGlzLCBfcGFyZW50T3JQYXJlbnRzID0gX2EuX3BhcmVudE9yUGFyZW50cywgX2N0b3JVbnN1YnNjcmliZSA9IF9hLl9jdG9yVW5zdWJzY3JpYmUsIF91bnN1YnNjcmliZSA9IF9hLl91bnN1YnNjcmliZSwgX3N1YnNjcmlwdGlvbnMgPSBfYS5fc3Vic2NyaXB0aW9ucztcbiAgICAgICAgdGhpcy5jbG9zZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9wYXJlbnRPclBhcmVudHMgPSBudWxsO1xuICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25zID0gbnVsbDtcbiAgICAgICAgaWYgKF9wYXJlbnRPclBhcmVudHMgaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIF9wYXJlbnRPclBhcmVudHMucmVtb3ZlKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF9wYXJlbnRPclBhcmVudHMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBfcGFyZW50T3JQYXJlbnRzLmxlbmd0aDsgKytpbmRleCkge1xuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRfMSA9IF9wYXJlbnRPclBhcmVudHNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIHBhcmVudF8xLnJlbW92ZSh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNGdW5jdGlvbihfdW5zdWJzY3JpYmUpKSB7XG4gICAgICAgICAgICBpZiAoX2N0b3JVbnN1YnNjcmliZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Vuc3Vic2NyaWJlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBfdW5zdWJzY3JpYmUuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JzID0gZSBpbnN0YW5jZW9mIFVuc3Vic2NyaXB0aW9uRXJyb3IgPyBmbGF0dGVuVW5zdWJzY3JpcHRpb25FcnJvcnMoZS5lcnJvcnMpIDogW2VdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpc0FycmF5KF9zdWJzY3JpcHRpb25zKSkge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICAgICAgICB2YXIgbGVuID0gX3N1YnNjcmlwdGlvbnMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgICAgICB2YXIgc3ViID0gX3N1YnNjcmlwdGlvbnNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmIChpc09iamVjdChzdWIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBVbnN1YnNjcmlwdGlvbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzLmNvbmNhdChmbGF0dGVuVW5zdWJzY3JpcHRpb25FcnJvcnMoZS5lcnJvcnMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChlcnJvcnMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBVbnN1YnNjcmlwdGlvbkVycm9yKGVycm9ycyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHRlYXJkb3duKSB7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSB0ZWFyZG93bjtcbiAgICAgICAgaWYgKCF0ZWFyZG93bikge1xuICAgICAgICAgICAgcmV0dXJuIFN1YnNjcmlwdGlvbi5FTVBUWTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHR5cGVvZiB0ZWFyZG93bikge1xuICAgICAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IG5ldyBTdWJzY3JpcHRpb24odGVhcmRvd24pO1xuICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uID09PSB0aGlzIHx8IHN1YnNjcmlwdGlvbi5jbG9zZWQgfHwgdHlwZW9mIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIShzdWJzY3JpcHRpb24gaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0bXAgPSBzdWJzY3JpcHRpb247XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uLl9zdWJzY3JpcHRpb25zID0gW3RtcF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndW5yZWNvZ25pemVkIHRlYXJkb3duICcgKyB0ZWFyZG93biArICcgYWRkZWQgdG8gU3Vic2NyaXB0aW9uLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBfcGFyZW50T3JQYXJlbnRzID0gc3Vic2NyaXB0aW9uLl9wYXJlbnRPclBhcmVudHM7XG4gICAgICAgIGlmIChfcGFyZW50T3JQYXJlbnRzID09PSBudWxsKSB7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24uX3BhcmVudE9yUGFyZW50cyA9IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoX3BhcmVudE9yUGFyZW50cyBpbnN0YW5jZW9mIFN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgaWYgKF9wYXJlbnRPclBhcmVudHMgPT09IHRoaXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3Vic2NyaXB0aW9uLl9wYXJlbnRPclBhcmVudHMgPSBbX3BhcmVudE9yUGFyZW50cywgdGhpc107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoX3BhcmVudE9yUGFyZW50cy5pbmRleE9mKHRoaXMpID09PSAtMSkge1xuICAgICAgICAgICAgX3BhcmVudE9yUGFyZW50cy5wdXNoKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3Vic2NyaXB0aW9ucyA9IHRoaXMuX3N1YnNjcmlwdGlvbnM7XG4gICAgICAgIGlmIChzdWJzY3JpcHRpb25zID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25zID0gW3N1YnNjcmlwdGlvbl07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb25zLnB1c2goc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb25zID0gdGhpcy5fc3Vic2NyaXB0aW9ucztcbiAgICAgICAgaWYgKHN1YnNjcmlwdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpcHRpb25JbmRleCA9IHN1YnNjcmlwdGlvbnMuaW5kZXhPZihzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbkluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbnMuc3BsaWNlKHN1YnNjcmlwdGlvbkluZGV4LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLkVNUFRZID0gKGZ1bmN0aW9uIChlbXB0eSkge1xuICAgICAgICBlbXB0eS5jbG9zZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gZW1wdHk7XG4gICAgfShuZXcgU3Vic2NyaXB0aW9uKCkpKTtcbiAgICByZXR1cm4gU3Vic2NyaXB0aW9uO1xufSgpKTtcbmV4cG9ydCB7IFN1YnNjcmlwdGlvbiB9O1xuZnVuY3Rpb24gZmxhdHRlblVuc3Vic2NyaXB0aW9uRXJyb3JzKGVycm9ycykge1xuICAgIHJldHVybiBlcnJvcnMucmVkdWNlKGZ1bmN0aW9uIChlcnJzLCBlcnIpIHsgcmV0dXJuIGVycnMuY29uY2F0KChlcnIgaW5zdGFuY2VvZiBVbnN1YnNjcmlwdGlvbkVycm9yKSA/IGVyci5lcnJvcnMgOiBlcnIpOyB9LCBbXSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJzY3JpcHRpb24uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgdmFyIHJ4U3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICA/IC8qQF9fUFVSRV9fKi8gU3ltYm9sKCdyeFN1YnNjcmliZXInKVxuICAgICAgICA6ICdAQHJ4U3Vic2NyaWJlcl8nICsgLypAX19QVVJFX18qLyBNYXRoLnJhbmRvbSgpO1xufSkoKTtcbmV4cG9ydCB2YXIgJCRyeFN1YnNjcmliZXIgPSByeFN1YnNjcmliZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yeFN1YnNjcmliZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF91dGlsX2lzRnVuY3Rpb24sX09ic2VydmVyLF9TdWJzY3JpcHRpb24sX2ludGVybmFsX3N5bWJvbF9yeFN1YnNjcmliZXIsX2NvbmZpZyxfdXRpbF9ob3N0UmVwb3J0RXJyb3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBlbXB0eSBhcyBlbXB0eU9ic2VydmVyIH0gZnJvbSAnLi9PYnNlcnZlcic7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyByeFN1YnNjcmliZXIgYXMgcnhTdWJzY3JpYmVyU3ltYm9sIH0gZnJvbSAnLi4vaW50ZXJuYWwvc3ltYm9sL3J4U3Vic2NyaWJlcic7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgeyBob3N0UmVwb3J0RXJyb3IgfSBmcm9tICcuL3V0aWwvaG9zdFJlcG9ydEVycm9yJztcbnZhciBTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3Vic2NyaWJlcihkZXN0aW5hdGlvbk9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnN5bmNFcnJvclZhbHVlID0gbnVsbDtcbiAgICAgICAgX3RoaXMuc3luY0Vycm9yVGhyb3duID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnN5bmNFcnJvclRocm93YWJsZSA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5pc1N0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBlbXB0eU9ic2VydmVyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGlmICghZGVzdGluYXRpb25Pck5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBlbXB0eU9ic2VydmVyO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkZXN0aW5hdGlvbk9yTmV4dCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlc3RpbmF0aW9uT3JOZXh0IGluc3RhbmNlb2YgU3Vic2NyaWJlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3luY0Vycm9yVGhyb3dhYmxlID0gZGVzdGluYXRpb25Pck5leHQuc3luY0Vycm9yVGhyb3dhYmxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBkZXN0aW5hdGlvbk9yTmV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uT3JOZXh0LmFkZChfdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zeW5jRXJyb3JUaHJvd2FibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBuZXcgU2FmZVN1YnNjcmliZXIoX3RoaXMsIGRlc3RpbmF0aW9uT3JOZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIF90aGlzLnN5bmNFcnJvclRocm93YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBuZXcgU2FmZVN1YnNjcmliZXIoX3RoaXMsIGRlc3RpbmF0aW9uT3JOZXh0LCBlcnJvciwgY29tcGxldGUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGVbcnhTdWJzY3JpYmVyU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG4gICAgU3Vic2NyaWJlci5jcmVhdGUgPSBmdW5jdGlvbiAobmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBzdWJzY3JpYmVyID0gbmV3IFN1YnNjcmliZXIobmV4dCwgZXJyb3IsIGNvbXBsZXRlKTtcbiAgICAgICAgc3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd2FibGUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZXI7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX25leHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2NvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUudW5zdWJzY3JpYmUuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl91bnN1YnNjcmliZUFuZFJlY3ljbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfcGFyZW50T3JQYXJlbnRzID0gdGhpcy5fcGFyZW50T3JQYXJlbnRzO1xuICAgICAgICB0aGlzLl9wYXJlbnRPclBhcmVudHMgPSBudWxsO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIHRoaXMuY2xvc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNTdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3BhcmVudE9yUGFyZW50cyA9IF9wYXJlbnRPclBhcmVudHM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgcmV0dXJuIFN1YnNjcmliZXI7XG59KFN1YnNjcmlwdGlvbikpO1xuZXhwb3J0IHsgU3Vic2NyaWJlciB9O1xudmFyIFNhZmVTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFNhZmVTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNhZmVTdWJzY3JpYmVyKF9wYXJlbnRTdWJzY3JpYmVyLCBvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9wYXJlbnRTdWJzY3JpYmVyID0gX3BhcmVudFN1YnNjcmliZXI7XG4gICAgICAgIHZhciBuZXh0O1xuICAgICAgICB2YXIgY29udGV4dCA9IF90aGlzO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihvYnNlcnZlck9yTmV4dCkpIHtcbiAgICAgICAgICAgIG5leHQgPSBvYnNlcnZlck9yTmV4dDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvYnNlcnZlck9yTmV4dCkge1xuICAgICAgICAgICAgbmV4dCA9IG9ic2VydmVyT3JOZXh0Lm5leHQ7XG4gICAgICAgICAgICBlcnJvciA9IG9ic2VydmVyT3JOZXh0LmVycm9yO1xuICAgICAgICAgICAgY29tcGxldGUgPSBvYnNlcnZlck9yTmV4dC5jb21wbGV0ZTtcbiAgICAgICAgICAgIGlmIChvYnNlcnZlck9yTmV4dCAhPT0gZW1wdHlPYnNlcnZlcikge1xuICAgICAgICAgICAgICAgIGNvbnRleHQgPSBPYmplY3QuY3JlYXRlKG9ic2VydmVyT3JOZXh0KTtcbiAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihjb250ZXh0LnVuc3Vic2NyaWJlKSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5hZGQoY29udGV4dC51bnN1YnNjcmliZS5iaW5kKGNvbnRleHQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGV4dC51bnN1YnNjcmliZSA9IF90aGlzLnVuc3Vic2NyaWJlLmJpbmQoX3RoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIF90aGlzLl9jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgX3RoaXMuX25leHQgPSBuZXh0O1xuICAgICAgICBfdGhpcy5fZXJyb3IgPSBlcnJvcjtcbiAgICAgICAgX3RoaXMuX2NvbXBsZXRlID0gY29tcGxldGU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCAmJiB0aGlzLl9uZXh0KSB7XG4gICAgICAgICAgICB2YXIgX3BhcmVudFN1YnNjcmliZXIgPSB0aGlzLl9wYXJlbnRTdWJzY3JpYmVyO1xuICAgICAgICAgICAgaWYgKCFjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyB8fCAhX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fX3RyeU9yVW5zdWIodGhpcy5fbmV4dCwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5fX3RyeU9yU2V0RXJyb3IoX3BhcmVudFN1YnNjcmliZXIsIHRoaXMuX25leHQsIHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB2YXIgX3BhcmVudFN1YnNjcmliZXIgPSB0aGlzLl9wYXJlbnRTdWJzY3JpYmVyO1xuICAgICAgICAgICAgdmFyIHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgPSBjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZztcbiAgICAgICAgICAgIGlmICh0aGlzLl9lcnJvcikge1xuICAgICAgICAgICAgICAgIGlmICghdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyB8fCAhX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX190cnlPclVuc3ViKHRoaXMuX2Vycm9yLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fdHJ5T3JTZXRFcnJvcihfcGFyZW50U3Vic2NyaWJlciwgdGhpcy5fZXJyb3IsIGVycik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIGlmICh1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgICAgICAgICBfcGFyZW50U3Vic2NyaWJlci5zeW5jRXJyb3JWYWx1ZSA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhvc3RSZXBvcnRFcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdmFyIF9wYXJlbnRTdWJzY3JpYmVyID0gdGhpcy5fcGFyZW50U3Vic2NyaWJlcjtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIHZhciB3cmFwcGVkQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5fY29tcGxldGUuY2FsbChfdGhpcy5fY29udGV4dCk7IH07XG4gICAgICAgICAgICAgICAgaWYgKCFjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyB8fCAhX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX190cnlPclVuc3ViKHdyYXBwZWRDb21wbGV0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX190cnlPclNldEVycm9yKF9wYXJlbnRTdWJzY3JpYmVyLCB3cmFwcGVkQ29tcGxldGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUuX190cnlPclVuc3ViID0gZnVuY3Rpb24gKGZuLCB2YWx1ZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm4uY2FsbCh0aGlzLl9jb250ZXh0LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5fX3RyeU9yU2V0RXJyb3IgPSBmdW5jdGlvbiAocGFyZW50LCBmbiwgdmFsdWUpIHtcbiAgICAgICAgaWYgKCFjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdiYWQgY2FsbCcpO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmbi5jYWxsKHRoaXMuX2NvbnRleHQsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQuc3luY0Vycm9yVmFsdWUgPSBlcnI7XG4gICAgICAgICAgICAgICAgcGFyZW50LnN5bmNFcnJvclRocm93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBob3N0UmVwb3J0RXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3BhcmVudFN1YnNjcmliZXIgPSB0aGlzLl9wYXJlbnRTdWJzY3JpYmVyO1xuICAgICAgICB0aGlzLl9jb250ZXh0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcGFyZW50U3Vic2NyaWJlciA9IG51bGw7XG4gICAgICAgIF9wYXJlbnRTdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gU2FmZVN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IFNhZmVTdWJzY3JpYmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJzY3JpYmVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IHZhciBvYnNlcnZhYmxlID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkgeyByZXR1cm4gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wub2JzZXJ2YWJsZSB8fCAnQEBvYnNlcnZhYmxlJzsgfSkoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gaWRlbnRpdHkoeCkge1xuICAgIHJldHVybiB4O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aWRlbnRpdHkuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9pZGVudGl0eSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBpZGVudGl0eSB9IGZyb20gJy4vaWRlbnRpdHknO1xuZXhwb3J0IGZ1bmN0aW9uIHBpcGUoKSB7XG4gICAgdmFyIGZucyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGZuc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gcGlwZUZyb21BcnJheShmbnMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBpcGVGcm9tQXJyYXkoZm5zKSB7XG4gICAgaWYgKGZucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGlkZW50aXR5O1xuICAgIH1cbiAgICBpZiAoZm5zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gZm5zWzBdO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gcGlwZWQoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGZucy5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGZuKSB7IHJldHVybiBmbihwcmV2KTsgfSwgaW5wdXQpO1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1waXBlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfdXRpbF9jYW5SZXBvcnRFcnJvcixfdXRpbF90b1N1YnNjcmliZXIsX3N5bWJvbF9vYnNlcnZhYmxlLF91dGlsX3BpcGUsX2NvbmZpZyBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBjYW5SZXBvcnRFcnJvciB9IGZyb20gJy4vdXRpbC9jYW5SZXBvcnRFcnJvcic7XG5pbXBvcnQgeyB0b1N1YnNjcmliZXIgfSBmcm9tICcuL3V0aWwvdG9TdWJzY3JpYmVyJztcbmltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuL3N5bWJvbC9vYnNlcnZhYmxlJztcbmltcG9ydCB7IHBpcGVGcm9tQXJyYXkgfSBmcm9tICcuL3V0aWwvcGlwZSc7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XG52YXIgT2JzZXJ2YWJsZSA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBPYnNlcnZhYmxlKHN1YnNjcmliZSkge1xuICAgICAgICB0aGlzLl9pc1NjYWxhciA9IGZhbHNlO1xuICAgICAgICBpZiAoc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICB0aGlzLl9zdWJzY3JpYmUgPSBzdWJzY3JpYmU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUubGlmdCA9IGZ1bmN0aW9uIChvcGVyYXRvcikge1xuICAgICAgICB2YXIgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKCk7XG4gICAgICAgIG9ic2VydmFibGUuc291cmNlID0gdGhpcztcbiAgICAgICAgb2JzZXJ2YWJsZS5vcGVyYXRvciA9IG9wZXJhdG9yO1xuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBvcGVyYXRvciA9IHRoaXMub3BlcmF0b3I7XG4gICAgICAgIHZhciBzaW5rID0gdG9TdWJzY3JpYmVyKG9ic2VydmVyT3JOZXh0LCBlcnJvciwgY29tcGxldGUpO1xuICAgICAgICBpZiAob3BlcmF0b3IpIHtcbiAgICAgICAgICAgIHNpbmsuYWRkKG9wZXJhdG9yLmNhbGwoc2luaywgdGhpcy5zb3VyY2UpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNpbmsuYWRkKHRoaXMuc291cmNlIHx8IChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyAmJiAhc2luay5zeW5jRXJyb3JUaHJvd2FibGUpID9cbiAgICAgICAgICAgICAgICB0aGlzLl9zdWJzY3JpYmUoc2luaykgOlxuICAgICAgICAgICAgICAgIHRoaXMuX3RyeVN1YnNjcmliZShzaW5rKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICBpZiAoc2luay5zeW5jRXJyb3JUaHJvd2FibGUpIHtcbiAgICAgICAgICAgICAgICBzaW5rLnN5bmNFcnJvclRocm93YWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChzaW5rLnN5bmNFcnJvclRocm93bikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBzaW5rLnN5bmNFcnJvclZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2luaztcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLl90cnlTdWJzY3JpYmUgPSBmdW5jdGlvbiAoc2luaykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N1YnNjcmliZShzaW5rKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgICBzaW5rLnN5bmNFcnJvclRocm93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2luay5zeW5jRXJyb3JWYWx1ZSA9IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjYW5SZXBvcnRFcnJvcihzaW5rKSkge1xuICAgICAgICAgICAgICAgIHNpbmsuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKG5leHQsIHByb21pc2VDdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHByb21pc2VDdG9yID0gZ2V0UHJvbWlzZUN0b3IocHJvbWlzZUN0b3IpO1xuICAgICAgICByZXR1cm4gbmV3IHByb21pc2VDdG9yKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpcHRpb247XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBfdGhpcy5zdWJzY3JpYmUoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgcmVqZWN0LCByZXNvbHZlKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5fc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICByZXR1cm4gc291cmNlICYmIHNvdXJjZS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZVtTeW1ib2xfb2JzZXJ2YWJsZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUucGlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9wZXJhdGlvbnMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIG9wZXJhdGlvbnNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3BlcmF0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwaXBlRnJvbUFycmF5KG9wZXJhdGlvbnMpKHRoaXMpO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUudG9Qcm9taXNlID0gZnVuY3Rpb24gKHByb21pc2VDdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHByb21pc2VDdG9yID0gZ2V0UHJvbWlzZUN0b3IocHJvbWlzZUN0b3IpO1xuICAgICAgICByZXR1cm4gbmV3IHByb21pc2VDdG9yKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZTtcbiAgICAgICAgICAgIF90aGlzLnN1YnNjcmliZShmdW5jdGlvbiAoeCkgeyByZXR1cm4gdmFsdWUgPSB4OyB9LCBmdW5jdGlvbiAoZXJyKSB7IHJldHVybiByZWplY3QoZXJyKTsgfSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVzb2x2ZSh2YWx1ZSk7IH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUuY3JlYXRlID0gZnVuY3Rpb24gKHN1YnNjcmliZSkge1xuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoc3Vic2NyaWJlKTtcbiAgICB9O1xuICAgIHJldHVybiBPYnNlcnZhYmxlO1xufSgpKTtcbmV4cG9ydCB7IE9ic2VydmFibGUgfTtcbmZ1bmN0aW9uIGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKSB7XG4gICAgaWYgKCFwcm9taXNlQ3Rvcikge1xuICAgICAgICBwcm9taXNlQ3RvciA9IGNvbmZpZy5Qcm9taXNlIHx8IFByb21pc2U7XG4gICAgfVxuICAgIGlmICghcHJvbWlzZUN0b3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdubyBQcm9taXNlIGltcGwgZm91bmQnKTtcbiAgICB9XG4gICAgcmV0dXJuIHByb21pc2VDdG9yO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JzZXJ2YWJsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX1N1YnNjcmliZXIsX3N5bWJvbF9yeFN1YnNjcmliZXIsX09ic2VydmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IHJ4U3Vic2NyaWJlciBhcyByeFN1YnNjcmliZXJTeW1ib2wgfSBmcm9tICcuLi9zeW1ib2wvcnhTdWJzY3JpYmVyJztcbmltcG9ydCB7IGVtcHR5IGFzIGVtcHR5T2JzZXJ2ZXIgfSBmcm9tICcuLi9PYnNlcnZlcic7XG5leHBvcnQgZnVuY3Rpb24gdG9TdWJzY3JpYmVyKG5leHRPck9ic2VydmVyLCBlcnJvciwgY29tcGxldGUpIHtcbiAgICBpZiAobmV4dE9yT2JzZXJ2ZXIpIHtcbiAgICAgICAgaWYgKG5leHRPck9ic2VydmVyIGluc3RhbmNlb2YgU3Vic2NyaWJlcikge1xuICAgICAgICAgICAgcmV0dXJuIG5leHRPck9ic2VydmVyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXh0T3JPYnNlcnZlcltyeFN1YnNjcmliZXJTeW1ib2xdKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV4dE9yT2JzZXJ2ZXJbcnhTdWJzY3JpYmVyU3ltYm9sXSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghbmV4dE9yT2JzZXJ2ZXIgJiYgIWVycm9yICYmICFjb21wbGV0ZSkge1xuICAgICAgICByZXR1cm4gbmV3IFN1YnNjcmliZXIoZW1wdHlPYnNlcnZlcik7XG4gICAgfVxuICAgIHJldHVybiBuZXcgU3Vic2NyaWJlcihuZXh0T3JPYnNlcnZlciwgZXJyb3IsIGNvbXBsZXRlKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRvU3Vic2NyaWJlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX1N1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIGNhblJlcG9ydEVycm9yKG9ic2VydmVyKSB7XG4gICAgd2hpbGUgKG9ic2VydmVyKSB7XG4gICAgICAgIHZhciBfYSA9IG9ic2VydmVyLCBjbG9zZWRfMSA9IF9hLmNsb3NlZCwgZGVzdGluYXRpb24gPSBfYS5kZXN0aW5hdGlvbiwgaXNTdG9wcGVkID0gX2EuaXNTdG9wcGVkO1xuICAgICAgICBpZiAoY2xvc2VkXzEgfHwgaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGVzdGluYXRpb24gJiYgZGVzdGluYXRpb24gaW5zdGFuY2VvZiBTdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICBvYnNlcnZlciA9IGRlc3RpbmF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2JzZXJ2ZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FuUmVwb3J0RXJyb3IuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgdmFyIHN1YnNjcmliZVRvQXJyYXkgPSBmdW5jdGlvbiAoYXJyYXkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbiAmJiAhc3Vic2NyaWJlci5jbG9zZWQ7IGkrKykge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGFycmF5W2ldKTtcbiAgICAgICAgfVxuICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdWJzY3JpYmVUb0FycmF5LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN5bWJvbEl0ZXJhdG9yKCkge1xuICAgIGlmICh0eXBlb2YgU3ltYm9sICE9PSAnZnVuY3Rpb24nIHx8ICFTeW1ib2wuaXRlcmF0b3IpIHtcbiAgICAgICAgcmV0dXJuICdAQGl0ZXJhdG9yJztcbiAgICB9XG4gICAgcmV0dXJuIFN5bWJvbC5pdGVyYXRvcjtcbn1cbmV4cG9ydCB2YXIgaXRlcmF0b3IgPSAvKkBfX1BVUkVfXyovIGdldFN5bWJvbEl0ZXJhdG9yKCk7XG5leHBvcnQgdmFyICQkaXRlcmF0b3IgPSBpdGVyYXRvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWl0ZXJhdG9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IHZhciBpc0FycmF5TGlrZSA9IChmdW5jdGlvbiAoeCkgeyByZXR1cm4geCAmJiB0eXBlb2YgeC5sZW5ndGggPT09ICdudW1iZXInICYmIHR5cGVvZiB4ICE9PSAnZnVuY3Rpb24nOyB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzQXJyYXlMaWtlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUHJvbWlzZSh2YWx1ZSkge1xuICAgIHJldHVybiAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZS5zdWJzY3JpYmUgIT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHZhbHVlLnRoZW4gPT09ICdmdW5jdGlvbic7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc1Byb21pc2UuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9zdWJzY3JpYmVUb0FycmF5LF9zdWJzY3JpYmVUb1Byb21pc2UsX3N1YnNjcmliZVRvSXRlcmFibGUsX3N1YnNjcmliZVRvT2JzZXJ2YWJsZSxfaXNBcnJheUxpa2UsX2lzUHJvbWlzZSxfaXNPYmplY3QsX3N5bWJvbF9pdGVyYXRvcixfc3ltYm9sX29ic2VydmFibGUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgc3Vic2NyaWJlVG9BcnJheSB9IGZyb20gJy4vc3Vic2NyaWJlVG9BcnJheSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVUb1Byb21pc2UgfSBmcm9tICcuL3N1YnNjcmliZVRvUHJvbWlzZSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVUb0l0ZXJhYmxlIH0gZnJvbSAnLi9zdWJzY3JpYmVUb0l0ZXJhYmxlJztcbmltcG9ydCB7IHN1YnNjcmliZVRvT2JzZXJ2YWJsZSB9IGZyb20gJy4vc3Vic2NyaWJlVG9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGlzQXJyYXlMaWtlIH0gZnJvbSAnLi9pc0FycmF5TGlrZSc7XG5pbXBvcnQgeyBpc1Byb21pc2UgfSBmcm9tICcuL2lzUHJvbWlzZSc7XG5pbXBvcnQgeyBpc09iamVjdCB9IGZyb20gJy4vaXNPYmplY3QnO1xuaW1wb3J0IHsgaXRlcmF0b3IgYXMgU3ltYm9sX2l0ZXJhdG9yIH0gZnJvbSAnLi4vc3ltYm9sL2l0ZXJhdG9yJztcbmltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5leHBvcnQgdmFyIHN1YnNjcmliZVRvID0gZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgIGlmICghIXJlc3VsdCAmJiB0eXBlb2YgcmVzdWx0W1N5bWJvbF9vYnNlcnZhYmxlXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlVG9PYnNlcnZhYmxlKHJlc3VsdCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzQXJyYXlMaWtlKHJlc3VsdCkpIHtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZVRvQXJyYXkocmVzdWx0KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNQcm9taXNlKHJlc3VsdCkpIHtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZVRvUHJvbWlzZShyZXN1bHQpO1xuICAgIH1cbiAgICBlbHNlIGlmICghIXJlc3VsdCAmJiB0eXBlb2YgcmVzdWx0W1N5bWJvbF9pdGVyYXRvcl0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZVRvSXRlcmFibGUocmVzdWx0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGlzT2JqZWN0KHJlc3VsdCkgPyAnYW4gaW52YWxpZCBvYmplY3QnIDogXCInXCIgKyByZXN1bHQgKyBcIidcIjtcbiAgICAgICAgdmFyIG1zZyA9IFwiWW91IHByb3ZpZGVkIFwiICsgdmFsdWUgKyBcIiB3aGVyZSBhIHN0cmVhbSB3YXMgZXhwZWN0ZWQuXCJcbiAgICAgICAgICAgICsgJyBZb3UgY2FuIHByb3ZpZGUgYW4gT2JzZXJ2YWJsZSwgUHJvbWlzZSwgQXJyYXksIG9yIEl0ZXJhYmxlLic7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IobXNnKTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3Vic2NyaWJlVG8uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9zeW1ib2xfb2JzZXJ2YWJsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi4vc3ltYm9sL29ic2VydmFibGUnO1xuZXhwb3J0IHZhciBzdWJzY3JpYmVUb09ic2VydmFibGUgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBvYnMgPSBvYmpbU3ltYm9sX29ic2VydmFibGVdKCk7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JzLnN1YnNjcmliZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUHJvdmlkZWQgb2JqZWN0IGRvZXMgbm90IGNvcnJlY3RseSBpbXBsZW1lbnQgU3ltYm9sLm9ic2VydmFibGUnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBvYnMuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICB9XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdWJzY3JpYmVUb09ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9ob3N0UmVwb3J0RXJyb3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgaG9zdFJlcG9ydEVycm9yIH0gZnJvbSAnLi9ob3N0UmVwb3J0RXJyb3InO1xuZXhwb3J0IHZhciBzdWJzY3JpYmVUb1Byb21pc2UgPSBmdW5jdGlvbiAocHJvbWlzZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoIXN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIHN1YnNjcmliZXIuZXJyb3IoZXJyKTsgfSlcbiAgICAgICAgICAgIC50aGVuKG51bGwsIGhvc3RSZXBvcnRFcnJvcik7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVyO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3Vic2NyaWJlVG9Qcm9taXNlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfc3ltYm9sX2l0ZXJhdG9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGl0ZXJhdG9yIGFzIFN5bWJvbF9pdGVyYXRvciB9IGZyb20gJy4uL3N5bWJvbC9pdGVyYXRvcic7XG5leHBvcnQgdmFyIHN1YnNjcmliZVRvSXRlcmFibGUgPSBmdW5jdGlvbiAoaXRlcmFibGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmFibGVbU3ltYm9sX2l0ZXJhdG9yXSgpO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IHZvaWQgMDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaXRlbSA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmliZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXRlbS5kb25lKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGl0ZW0udmFsdWUpO1xuICAgICAgICAgICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKHRydWUpO1xuICAgICAgICBpZiAodHlwZW9mIGl0ZXJhdG9yLnJldHVybiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5hZGQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChpdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZXI7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdWJzY3JpYmVUb0l0ZXJhYmxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfU3Vic2NyaXB0aW9uIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVBcnJheShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzdWIgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgc3ViLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGkgPT09IGlucHV0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoaW5wdXRbaSsrXSk7XG4gICAgICAgICAgICBpZiAoIXN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgc3ViLmFkZCh0aGlzLnNjaGVkdWxlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBzdWI7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZUFycmF5LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfdXRpbF9zdWJzY3JpYmVUbyxfc2NoZWR1bGVkX3NjaGVkdWxlZCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVUbyB9IGZyb20gJy4uL3V0aWwvc3Vic2NyaWJlVG8nO1xuaW1wb3J0IHsgc2NoZWR1bGVkIH0gZnJvbSAnLi4vc2NoZWR1bGVkL3NjaGVkdWxlZCc7XG5leHBvcnQgZnVuY3Rpb24gZnJvbShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKCFzY2hlZHVsZXIpIHtcbiAgICAgICAgaWYgKGlucHV0IGluc3RhbmNlb2YgT2JzZXJ2YWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShzdWJzY3JpYmVUbyhpbnB1dCkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHNjaGVkdWxlZChpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mcm9tLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfc2NoZWR1bGVPYnNlcnZhYmxlLF9zY2hlZHVsZVByb21pc2UsX3NjaGVkdWxlQXJyYXksX3NjaGVkdWxlSXRlcmFibGUsX3V0aWxfaXNJbnRlcm9wT2JzZXJ2YWJsZSxfdXRpbF9pc1Byb21pc2UsX3V0aWxfaXNBcnJheUxpa2UsX3V0aWxfaXNJdGVyYWJsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBzY2hlZHVsZU9ic2VydmFibGUgfSBmcm9tICcuL3NjaGVkdWxlT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBzY2hlZHVsZVByb21pc2UgfSBmcm9tICcuL3NjaGVkdWxlUHJvbWlzZSc7XG5pbXBvcnQgeyBzY2hlZHVsZUFycmF5IH0gZnJvbSAnLi9zY2hlZHVsZUFycmF5JztcbmltcG9ydCB7IHNjaGVkdWxlSXRlcmFibGUgfSBmcm9tICcuL3NjaGVkdWxlSXRlcmFibGUnO1xuaW1wb3J0IHsgaXNJbnRlcm9wT2JzZXJ2YWJsZSB9IGZyb20gJy4uL3V0aWwvaXNJbnRlcm9wT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc1Byb21pc2UgfSBmcm9tICcuLi91dGlsL2lzUHJvbWlzZSc7XG5pbXBvcnQgeyBpc0FycmF5TGlrZSB9IGZyb20gJy4uL3V0aWwvaXNBcnJheUxpa2UnO1xuaW1wb3J0IHsgaXNJdGVyYWJsZSB9IGZyb20gJy4uL3V0aWwvaXNJdGVyYWJsZSc7XG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVkKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICBpZiAoaXNJbnRlcm9wT2JzZXJ2YWJsZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZU9ic2VydmFibGUoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNQcm9taXNlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlUHJvbWlzZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0FycmF5TGlrZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZUFycmF5KGlucHV0LCBzY2hlZHVsZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzSXRlcmFibGUoaW5wdXQpIHx8IHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZUl0ZXJhYmxlKGlucHV0LCBzY2hlZHVsZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKGlucHV0ICE9PSBudWxsICYmIHR5cGVvZiBpbnB1dCB8fCBpbnB1dCkgKyAnIGlzIG5vdCBvYnNlcnZhYmxlJyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZWQuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9zeW1ib2xfb2JzZXJ2YWJsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi4vc3ltYm9sL29ic2VydmFibGUnO1xuZXhwb3J0IGZ1bmN0aW9uIGlzSW50ZXJvcE9ic2VydmFibGUoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQgJiYgdHlwZW9mIGlucHV0W1N5bWJvbF9vYnNlcnZhYmxlXSA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzSW50ZXJvcE9ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF9TdWJzY3JpcHRpb24sX3N5bWJvbF9vYnNlcnZhYmxlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi4vc3ltYm9sL29ic2VydmFibGUnO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlT2JzZXJ2YWJsZShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzdWIgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgIHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBvYnNlcnZhYmxlID0gaW5wdXRbU3ltYm9sX29ic2VydmFibGVdKCk7XG4gICAgICAgICAgICBzdWIuYWRkKG9ic2VydmFibGUuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgICAgICBuZXh0OiBmdW5jdGlvbiAodmFsdWUpIHsgc3ViLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaWJlci5uZXh0KHZhbHVlKTsgfSkpOyB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyKSB7IHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuZXJyb3IoZXJyKTsgfSkpOyB9LFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7IHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfSkpOyB9LFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBzdWI7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZU9ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF9TdWJzY3JpcHRpb24gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZVByb21pc2UoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc3ViID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICAgICAgICBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfSkpO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLmVycm9yKGVycik7IH0pKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBzdWI7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZVByb21pc2UuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9zeW1ib2xfaXRlcmF0b3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgaXRlcmF0b3IgYXMgU3ltYm9sX2l0ZXJhdG9yIH0gZnJvbSAnLi4vc3ltYm9sL2l0ZXJhdG9yJztcbmV4cG9ydCBmdW5jdGlvbiBpc0l0ZXJhYmxlKGlucHV0KSB7XG4gICAgcmV0dXJuIGlucHV0ICYmIHR5cGVvZiBpbnB1dFtTeW1ib2xfaXRlcmF0b3JdID09PSAnZnVuY3Rpb24nO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNJdGVyYWJsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX1N1YnNjcmlwdGlvbixfc3ltYm9sX2l0ZXJhdG9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBpdGVyYXRvciBhcyBTeW1ib2xfaXRlcmF0b3IgfSBmcm9tICcuLi9zeW1ib2wvaXRlcmF0b3InO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlSXRlcmFibGUoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIGlmICghaW5wdXQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJdGVyYWJsZSBjYW5ub3QgYmUgbnVsbCcpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHN1YiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgdmFyIGl0ZXJhdG9yO1xuICAgICAgICBzdWIuYWRkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChpdGVyYXRvciAmJiB0eXBlb2YgaXRlcmF0b3IucmV0dXJuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpdGVyYXRvciA9IGlucHV0W1N5bWJvbF9pdGVyYXRvcl0oKTtcbiAgICAgICAgICAgIHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdmFsdWU7XG4gICAgICAgICAgICAgICAgdmFyIGRvbmU7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSByZXN1bHQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGRvbmUgPSByZXN1bHQuZG9uZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gc3ViO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVJdGVyYWJsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBtYXAocHJvamVjdCwgdGhpc0FyZykge1xuICAgIHJldHVybiBmdW5jdGlvbiBtYXBPcGVyYXRpb24oc291cmNlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcHJvamVjdCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXJndW1lbnQgaXMgbm90IGEgZnVuY3Rpb24uIEFyZSB5b3UgbG9va2luZyBmb3IgYG1hcFRvKClgPycpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzb3VyY2UubGlmdChuZXcgTWFwT3BlcmF0b3IocHJvamVjdCwgdGhpc0FyZykpO1xuICAgIH07XG59XG52YXIgTWFwT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTWFwT3BlcmF0b3IocHJvamVjdCwgdGhpc0FyZykge1xuICAgICAgICB0aGlzLnByb2plY3QgPSBwcm9qZWN0O1xuICAgICAgICB0aGlzLnRoaXNBcmcgPSB0aGlzQXJnO1xuICAgIH1cbiAgICBNYXBPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IE1hcFN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5wcm9qZWN0LCB0aGlzLnRoaXNBcmcpKTtcbiAgICB9O1xuICAgIHJldHVybiBNYXBPcGVyYXRvcjtcbn0oKSk7XG5leHBvcnQgeyBNYXBPcGVyYXRvciB9O1xudmFyIE1hcFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoTWFwU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNYXBTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBwcm9qZWN0LCB0aGlzQXJnKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wcm9qZWN0ID0gcHJvamVjdDtcbiAgICAgICAgX3RoaXMuY291bnQgPSAwO1xuICAgICAgICBfdGhpcy50aGlzQXJnID0gdGhpc0FyZyB8fCBfdGhpcztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBNYXBTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5wcm9qZWN0LmNhbGwodGhpcy50aGlzQXJnLCB2YWx1ZSwgdGhpcy5jb3VudCsrKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHJlc3VsdCk7XG4gICAgfTtcbiAgICByZXR1cm4gTWFwU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfdXRpbF9pc0FycmF5LF91dGlsX2lzRnVuY3Rpb24sX29wZXJhdG9yc19tYXAgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4uL3V0aWwvaXNBcnJheSc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IG1hcCB9IGZyb20gJy4uL29wZXJhdG9ycy9tYXAnO1xudmFyIHRvU3RyaW5nID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZzsgfSkoKTtcbmV4cG9ydCBmdW5jdGlvbiBmcm9tRXZlbnQodGFyZ2V0LCBldmVudE5hbWUsIG9wdGlvbnMsIHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucykpIHtcbiAgICAgICAgcmVzdWx0U2VsZWN0b3IgPSBvcHRpb25zO1xuICAgICAgICBvcHRpb25zID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAocmVzdWx0U2VsZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIGZyb21FdmVudCh0YXJnZXQsIGV2ZW50TmFtZSwgb3B0aW9ucykucGlwZShtYXAoZnVuY3Rpb24gKGFyZ3MpIHsgcmV0dXJuIGlzQXJyYXkoYXJncykgPyByZXN1bHRTZWxlY3Rvci5hcHBseSh2b2lkIDAsIGFyZ3MpIDogcmVzdWx0U2VsZWN0b3IoYXJncyk7IH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZXIoZSkge1xuICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNldHVwU3Vic2NyaXB0aW9uKHRhcmdldCwgZXZlbnROYW1lLCBoYW5kbGVyLCBzdWJzY3JpYmVyLCBvcHRpb25zKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHNldHVwU3Vic2NyaXB0aW9uKHNvdXJjZU9iaiwgZXZlbnROYW1lLCBoYW5kbGVyLCBzdWJzY3JpYmVyLCBvcHRpb25zKSB7XG4gICAgdmFyIHVuc3Vic2NyaWJlO1xuICAgIGlmIChpc0V2ZW50VGFyZ2V0KHNvdXJjZU9iaikpIHtcbiAgICAgICAgdmFyIHNvdXJjZV8xID0gc291cmNlT2JqO1xuICAgICAgICBzb3VyY2VPYmouYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIsIG9wdGlvbnMpO1xuICAgICAgICB1bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNvdXJjZV8xLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyLCBvcHRpb25zKTsgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNKUXVlcnlTdHlsZUV2ZW50RW1pdHRlcihzb3VyY2VPYmopKSB7XG4gICAgICAgIHZhciBzb3VyY2VfMiA9IHNvdXJjZU9iajtcbiAgICAgICAgc291cmNlT2JqLm9uKGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgICAgIHVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gc291cmNlXzIub2ZmKGV2ZW50TmFtZSwgaGFuZGxlcik7IH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzTm9kZVN0eWxlRXZlbnRFbWl0dGVyKHNvdXJjZU9iaikpIHtcbiAgICAgICAgdmFyIHNvdXJjZV8zID0gc291cmNlT2JqO1xuICAgICAgICBzb3VyY2VPYmouYWRkTGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICAgICAgdW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBzb3VyY2VfMy5yZW1vdmVMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIpOyB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChzb3VyY2VPYmogJiYgc291cmNlT2JqLmxlbmd0aCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gc291cmNlT2JqLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBzZXR1cFN1YnNjcmlwdGlvbihzb3VyY2VPYmpbaV0sIGV2ZW50TmFtZSwgaGFuZGxlciwgc3Vic2NyaWJlciwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgZXZlbnQgdGFyZ2V0Jyk7XG4gICAgfVxuICAgIHN1YnNjcmliZXIuYWRkKHVuc3Vic2NyaWJlKTtcbn1cbmZ1bmN0aW9uIGlzTm9kZVN0eWxlRXZlbnRFbWl0dGVyKHNvdXJjZU9iaikge1xuICAgIHJldHVybiBzb3VyY2VPYmogJiYgdHlwZW9mIHNvdXJjZU9iai5hZGRMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygc291cmNlT2JqLnJlbW92ZUxpc3RlbmVyID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gaXNKUXVlcnlTdHlsZUV2ZW50RW1pdHRlcihzb3VyY2VPYmopIHtcbiAgICByZXR1cm4gc291cmNlT2JqICYmIHR5cGVvZiBzb3VyY2VPYmoub24gPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHNvdXJjZU9iai5vZmYgPT09ICdmdW5jdGlvbic7XG59XG5mdW5jdGlvbiBpc0V2ZW50VGFyZ2V0KHNvdXJjZU9iaikge1xuICAgIHJldHVybiBzb3VyY2VPYmogJiYgdHlwZW9mIHNvdXJjZU9iai5hZGRFdmVudExpc3RlbmVyID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBzb3VyY2VPYmoucmVtb3ZlRXZlbnRMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZyb21FdmVudC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmlwdGlvbiBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbnZhciBBY3Rpb24gPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQWN0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFjdGlvbihzY2hlZHVsZXIsIHdvcmspIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgfVxuICAgIEFjdGlvbi5wcm90b3R5cGUuc2NoZWR1bGUgPSBmdW5jdGlvbiAoc3RhdGUsIGRlbGF5KSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICByZXR1cm4gQWN0aW9uO1xufShTdWJzY3JpcHRpb24pKTtcbmV4cG9ydCB7IEFjdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QWN0aW9uLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfQWN0aW9uIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBBY3Rpb24gfSBmcm9tICcuL0FjdGlvbic7XG52YXIgQXN5bmNBY3Rpb24gPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQXN5bmNBY3Rpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQXN5bmNBY3Rpb24oc2NoZWR1bGVyLCB3b3JrKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHNjaGVkdWxlciwgd29yaykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc2NoZWR1bGVyID0gc2NoZWR1bGVyO1xuICAgICAgICBfdGhpcy53b3JrID0gd29yaztcbiAgICAgICAgX3RoaXMucGVuZGluZyA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uIChzdGF0ZSwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgdmFyIGlkID0gdGhpcy5pZDtcbiAgICAgICAgdmFyIHNjaGVkdWxlciA9IHRoaXMuc2NoZWR1bGVyO1xuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5pZCA9IHRoaXMucmVjeWNsZUFzeW5jSWQoc2NoZWR1bGVyLCBpZCwgZGVsYXkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGVuZGluZyA9IHRydWU7XG4gICAgICAgIHRoaXMuZGVsYXkgPSBkZWxheTtcbiAgICAgICAgdGhpcy5pZCA9IHRoaXMuaWQgfHwgdGhpcy5yZXF1ZXN0QXN5bmNJZChzY2hlZHVsZXIsIHRoaXMuaWQsIGRlbGF5KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBBc3luY0FjdGlvbi5wcm90b3R5cGUucmVxdWVzdEFzeW5jSWQgPSBmdW5jdGlvbiAoc2NoZWR1bGVyLCBpZCwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2V0SW50ZXJ2YWwoc2NoZWR1bGVyLmZsdXNoLmJpbmQoc2NoZWR1bGVyLCB0aGlzKSwgZGVsYXkpO1xuICAgIH07XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLnJlY3ljbGVBc3luY0lkID0gZnVuY3Rpb24gKHNjaGVkdWxlciwgaWQsIGRlbGF5KSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlbGF5ICE9PSBudWxsICYmIHRoaXMuZGVsYXkgPT09IGRlbGF5ICYmIHRoaXMucGVuZGluZyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBpZDtcbiAgICAgICAgfVxuICAgICAgICBjbGVhckludGVydmFsKGlkKTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24gKHN0YXRlLCBkZWxheSkge1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ2V4ZWN1dGluZyBhIGNhbmNlbGxlZCBhY3Rpb24nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgdmFyIGVycm9yID0gdGhpcy5fZXhlY3V0ZShzdGF0ZSwgZGVsYXkpO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnBlbmRpbmcgPT09IGZhbHNlICYmIHRoaXMuaWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5pZCA9IHRoaXMucmVjeWNsZUFzeW5jSWQodGhpcy5zY2hlZHVsZXIsIHRoaXMuaWQsIG51bGwpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBc3luY0FjdGlvbi5wcm90b3R5cGUuX2V4ZWN1dGUgPSBmdW5jdGlvbiAoc3RhdGUsIGRlbGF5KSB7XG4gICAgICAgIHZhciBlcnJvcmVkID0gZmFsc2U7XG4gICAgICAgIHZhciBlcnJvclZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy53b3JrKHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgZXJyb3JlZCA9IHRydWU7XG4gICAgICAgICAgICBlcnJvclZhbHVlID0gISFlICYmIGUgfHwgbmV3IEVycm9yKGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlcnJvcmVkKSB7XG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3JWYWx1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLl91bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGlkID0gdGhpcy5pZDtcbiAgICAgICAgdmFyIHNjaGVkdWxlciA9IHRoaXMuc2NoZWR1bGVyO1xuICAgICAgICB2YXIgYWN0aW9ucyA9IHNjaGVkdWxlci5hY3Rpb25zO1xuICAgICAgICB2YXIgaW5kZXggPSBhY3Rpb25zLmluZGV4T2YodGhpcyk7XG4gICAgICAgIHRoaXMud29yayA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBudWxsO1xuICAgICAgICB0aGlzLnBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZXIgPSBudWxsO1xuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICBhY3Rpb25zLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuaWQgPSB0aGlzLnJlY3ljbGVBc3luY0lkKHNjaGVkdWxlciwgaWQsIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVsYXkgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEFzeW5jQWN0aW9uO1xufShBY3Rpb24pKTtcbmV4cG9ydCB7IEFzeW5jQWN0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Bc3luY0FjdGlvbi5qcy5tYXBcbiIsInZhciBTY2hlZHVsZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2NoZWR1bGVyKFNjaGVkdWxlckFjdGlvbiwgbm93KSB7XG4gICAgICAgIGlmIChub3cgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgbm93ID0gU2NoZWR1bGVyLm5vdztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLlNjaGVkdWxlckFjdGlvbiA9IFNjaGVkdWxlckFjdGlvbjtcbiAgICAgICAgdGhpcy5ub3cgPSBub3c7XG4gICAgfVxuICAgIFNjaGVkdWxlci5wcm90b3R5cGUuc2NoZWR1bGUgPSBmdW5jdGlvbiAod29yaywgZGVsYXksIHN0YXRlKSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzLlNjaGVkdWxlckFjdGlvbih0aGlzLCB3b3JrKS5zY2hlZHVsZShzdGF0ZSwgZGVsYXkpO1xuICAgIH07XG4gICAgU2NoZWR1bGVyLm5vdyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIERhdGUubm93KCk7IH07XG4gICAgcmV0dXJuIFNjaGVkdWxlcjtcbn0oKSk7XG5leHBvcnQgeyBTY2hlZHVsZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNjaGVkdWxlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX0FzeW5jQWN0aW9uLF9Bc3luY1NjaGVkdWxlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBBc3luY0FjdGlvbiB9IGZyb20gJy4vQXN5bmNBY3Rpb24nO1xuaW1wb3J0IHsgQXN5bmNTY2hlZHVsZXIgfSBmcm9tICcuL0FzeW5jU2NoZWR1bGVyJztcbmV4cG9ydCB2YXIgYXN5bmNTY2hlZHVsZXIgPSAvKkBfX1BVUkVfXyovIG5ldyBBc3luY1NjaGVkdWxlcihBc3luY0FjdGlvbik7XG5leHBvcnQgdmFyIGFzeW5jID0gYXN5bmNTY2hlZHVsZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hc3luYy5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1NjaGVkdWxlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU2NoZWR1bGVyIH0gZnJvbSAnLi4vU2NoZWR1bGVyJztcbnZhciBBc3luY1NjaGVkdWxlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhBc3luY1NjaGVkdWxlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBc3luY1NjaGVkdWxlcihTY2hlZHVsZXJBY3Rpb24sIG5vdykge1xuICAgICAgICBpZiAobm93ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIG5vdyA9IFNjaGVkdWxlci5ub3c7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgU2NoZWR1bGVyQWN0aW9uLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoQXN5bmNTY2hlZHVsZXIuZGVsZWdhdGUgJiYgQXN5bmNTY2hlZHVsZXIuZGVsZWdhdGUgIT09IF90aGlzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEFzeW5jU2NoZWR1bGVyLmRlbGVnYXRlLm5vdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5hY3Rpb25zID0gW107XG4gICAgICAgIF90aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5zY2hlZHVsZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQXN5bmNTY2hlZHVsZXIucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24gKHdvcmssIGRlbGF5LCBzdGF0ZSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChBc3luY1NjaGVkdWxlci5kZWxlZ2F0ZSAmJiBBc3luY1NjaGVkdWxlci5kZWxlZ2F0ZSAhPT0gdGhpcykge1xuICAgICAgICAgICAgcmV0dXJuIEFzeW5jU2NoZWR1bGVyLmRlbGVnYXRlLnNjaGVkdWxlKHdvcmssIGRlbGF5LCBzdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5zY2hlZHVsZS5jYWxsKHRoaXMsIHdvcmssIGRlbGF5LCBzdGF0ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFzeW5jU2NoZWR1bGVyLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgdmFyIGFjdGlvbnMgPSB0aGlzLmFjdGlvbnM7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSkge1xuICAgICAgICAgICAgYWN0aW9ucy5wdXNoKGFjdGlvbik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVycm9yO1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGlmIChlcnJvciA9IGFjdGlvbi5leGVjdXRlKGFjdGlvbi5zdGF0ZSwgYWN0aW9uLmRlbGF5KSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlIChhY3Rpb24gPSBhY3Rpb25zLnNoaWZ0KCkpO1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHdoaWxlIChhY3Rpb24gPSBhY3Rpb25zLnNoaWZ0KCkpIHtcbiAgICAgICAgICAgICAgICBhY3Rpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQXN5bmNTY2hlZHVsZXI7XG59KFNjaGVkdWxlcikpO1xuZXhwb3J0IHsgQXN5bmNTY2hlZHVsZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFzeW5jU2NoZWR1bGVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfc2NoZWR1bGVyX2FzeW5jLF91dGlsX2lzTnVtZXJpYyBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBhc3luYyB9IGZyb20gJy4uL3NjaGVkdWxlci9hc3luYyc7XG5pbXBvcnQgeyBpc051bWVyaWMgfSBmcm9tICcuLi91dGlsL2lzTnVtZXJpYyc7XG5leHBvcnQgZnVuY3Rpb24gaW50ZXJ2YWwocGVyaW9kLCBzY2hlZHVsZXIpIHtcbiAgICBpZiAocGVyaW9kID09PSB2b2lkIDApIHtcbiAgICAgICAgcGVyaW9kID0gMDtcbiAgICB9XG4gICAgaWYgKHNjaGVkdWxlciA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHNjaGVkdWxlciA9IGFzeW5jO1xuICAgIH1cbiAgICBpZiAoIWlzTnVtZXJpYyhwZXJpb2QpIHx8IHBlcmlvZCA8IDApIHtcbiAgICAgICAgcGVyaW9kID0gMDtcbiAgICB9XG4gICAgaWYgKCFzY2hlZHVsZXIgfHwgdHlwZW9mIHNjaGVkdWxlci5zY2hlZHVsZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBzY2hlZHVsZXIgPSBhc3luYztcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHN1YnNjcmliZXIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShkaXNwYXRjaCwgcGVyaW9kLCB7IHN1YnNjcmliZXI6IHN1YnNjcmliZXIsIGNvdW50ZXI6IDAsIHBlcmlvZDogcGVyaW9kIH0pKTtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZXI7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBkaXNwYXRjaChzdGF0ZSkge1xuICAgIHZhciBzdWJzY3JpYmVyID0gc3RhdGUuc3Vic2NyaWJlciwgY291bnRlciA9IHN0YXRlLmNvdW50ZXIsIHBlcmlvZCA9IHN0YXRlLnBlcmlvZDtcbiAgICBzdWJzY3JpYmVyLm5leHQoY291bnRlcik7XG4gICAgdGhpcy5zY2hlZHVsZSh7IHN1YnNjcmliZXI6IHN1YnNjcmliZXIsIGNvdW50ZXI6IGNvdW50ZXIgKyAxLCBwZXJpb2Q6IHBlcmlvZCB9LCBwZXJpb2QpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJ2YWwuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9pc0FycmF5IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuL2lzQXJyYXknO1xuZXhwb3J0IGZ1bmN0aW9uIGlzTnVtZXJpYyh2YWwpIHtcbiAgICByZXR1cm4gIWlzQXJyYXkodmFsKSAmJiAodmFsIC0gcGFyc2VGbG9hdCh2YWwpICsgMSkgPj0gMDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzTnVtZXJpYy5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1NjaGVkdWxlcih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUuc2NoZWR1bGUgPT09ICdmdW5jdGlvbic7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc1NjaGVkdWxlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIsX09ic2VydmFibGUsX3V0aWxfc3Vic2NyaWJlVG8gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVUbyB9IGZyb20gJy4vdXRpbC9zdWJzY3JpYmVUbyc7XG52YXIgU2ltcGxlSW5uZXJTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFNpbXBsZUlubmVyU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTaW1wbGVJbm5lclN1YnNjcmliZXIocGFyZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTaW1wbGVJbm5lclN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMucGFyZW50Lm5vdGlmeU5leHQodmFsdWUpO1xuICAgIH07XG4gICAgU2ltcGxlSW5uZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQubm90aWZ5RXJyb3IoZXJyb3IpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBTaW1wbGVJbm5lclN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQubm90aWZ5Q29tcGxldGUoKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIFNpbXBsZUlubmVyU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgU2ltcGxlSW5uZXJTdWJzY3JpYmVyIH07XG52YXIgQ29tcGxleElubmVyU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhDb21wbGV4SW5uZXJTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENvbXBsZXhJbm5lclN1YnNjcmliZXIocGFyZW50LCBvdXRlclZhbHVlLCBvdXRlckluZGV4KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgX3RoaXMub3V0ZXJWYWx1ZSA9IG91dGVyVmFsdWU7XG4gICAgICAgIF90aGlzLm91dGVySW5kZXggPSBvdXRlckluZGV4O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIENvbXBsZXhJbm5lclN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMucGFyZW50Lm5vdGlmeU5leHQodGhpcy5vdXRlclZhbHVlLCB2YWx1ZSwgdGhpcy5vdXRlckluZGV4LCB0aGlzKTtcbiAgICB9O1xuICAgIENvbXBsZXhJbm5lclN1YnNjcmliZXIucHJvdG90eXBlLl9lcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICB0aGlzLnBhcmVudC5ub3RpZnlFcnJvcihlcnJvcik7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIENvbXBsZXhJbm5lclN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQubm90aWZ5Q29tcGxldGUodGhpcyk7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIHJldHVybiBDb21wbGV4SW5uZXJTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBDb21wbGV4SW5uZXJTdWJzY3JpYmVyIH07XG52YXIgU2ltcGxlT3V0ZXJTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFNpbXBsZU91dGVyU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTaW1wbGVPdXRlclN1YnNjcmliZXIoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgU2ltcGxlT3V0ZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlOZXh0ID0gZnVuY3Rpb24gKGlubmVyVmFsdWUpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KGlubmVyVmFsdWUpO1xuICAgIH07XG4gICAgU2ltcGxlT3V0ZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlFcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgIH07XG4gICAgU2ltcGxlT3V0ZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIFNpbXBsZU91dGVyU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgU2ltcGxlT3V0ZXJTdWJzY3JpYmVyIH07XG52YXIgQ29tcGxleE91dGVyU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhDb21wbGV4T3V0ZXJTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENvbXBsZXhPdXRlclN1YnNjcmliZXIoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgQ29tcGxleE91dGVyU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5TmV4dCA9IGZ1bmN0aW9uIChfb3V0ZXJWYWx1ZSwgaW5uZXJWYWx1ZSwgX291dGVySW5kZXgsIF9pbm5lclN1Yikge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQoaW5uZXJWYWx1ZSk7XG4gICAgfTtcbiAgICBDb21wbGV4T3V0ZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlFcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycm9yKTtcbiAgICB9O1xuICAgIENvbXBsZXhPdXRlclN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlID0gZnVuY3Rpb24gKF9pbm5lclN1Yikge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gQ29tcGxleE91dGVyU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgQ29tcGxleE91dGVyU3Vic2NyaWJlciB9O1xuZXhwb3J0IGZ1bmN0aW9uIGlubmVyU3Vic2NyaWJlKHJlc3VsdCwgaW5uZXJTdWJzY3JpYmVyKSB7XG4gICAgaWYgKGlubmVyU3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIE9ic2VydmFibGUpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5zdWJzY3JpYmUoaW5uZXJTdWJzY3JpYmVyKTtcbiAgICB9XG4gICAgdmFyIHN1YnNjcmlwdGlvbjtcbiAgICB0cnkge1xuICAgICAgICBzdWJzY3JpcHRpb24gPSBzdWJzY3JpYmVUbyhyZXN1bHQpKGlubmVyU3Vic2NyaWJlcik7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBpbm5lclN1YnNjcmliZXIuZXJyb3IoZXJyb3IpO1xuICAgIH1cbiAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5uZXJTdWJzY3JpYmUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9tYXAsX29ic2VydmFibGVfZnJvbSxfaW5uZXJTdWJzY3JpYmUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IG1hcCB9IGZyb20gJy4vbWFwJztcbmltcG9ydCB7IGZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2Zyb20nO1xuaW1wb3J0IHsgU2ltcGxlT3V0ZXJTdWJzY3JpYmVyLCBTaW1wbGVJbm5lclN1YnNjcmliZXIsIGlubmVyU3Vic2NyaWJlIH0gZnJvbSAnLi4vaW5uZXJTdWJzY3JpYmUnO1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlTWFwKHByb2plY3QsIHJlc3VsdFNlbGVjdG9yLCBjb25jdXJyZW50KSB7XG4gICAgaWYgKGNvbmN1cnJlbnQgPT09IHZvaWQgMCkge1xuICAgICAgICBjb25jdXJyZW50ID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHJlc3VsdFNlbGVjdG9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UucGlwZShtZXJnZU1hcChmdW5jdGlvbiAoYSwgaSkgeyByZXR1cm4gZnJvbShwcm9qZWN0KGEsIGkpKS5waXBlKG1hcChmdW5jdGlvbiAoYiwgaWkpIHsgcmV0dXJuIHJlc3VsdFNlbGVjdG9yKGEsIGIsIGksIGlpKTsgfSkpOyB9LCBjb25jdXJyZW50KSk7IH07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiByZXN1bHRTZWxlY3RvciA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgY29uY3VycmVudCA9IHJlc3VsdFNlbGVjdG9yO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gc291cmNlLmxpZnQobmV3IE1lcmdlTWFwT3BlcmF0b3IocHJvamVjdCwgY29uY3VycmVudCkpOyB9O1xufVxudmFyIE1lcmdlTWFwT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTWVyZ2VNYXBPcGVyYXRvcihwcm9qZWN0LCBjb25jdXJyZW50KSB7XG4gICAgICAgIGlmIChjb25jdXJyZW50ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGNvbmN1cnJlbnQgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wcm9qZWN0ID0gcHJvamVjdDtcbiAgICAgICAgdGhpcy5jb25jdXJyZW50ID0gY29uY3VycmVudDtcbiAgICB9XG4gICAgTWVyZ2VNYXBPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChvYnNlcnZlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBNZXJnZU1hcFN1YnNjcmliZXIob2JzZXJ2ZXIsIHRoaXMucHJvamVjdCwgdGhpcy5jb25jdXJyZW50KSk7XG4gICAgfTtcbiAgICByZXR1cm4gTWVyZ2VNYXBPcGVyYXRvcjtcbn0oKSk7XG5leHBvcnQgeyBNZXJnZU1hcE9wZXJhdG9yIH07XG52YXIgTWVyZ2VNYXBTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKE1lcmdlTWFwU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNZXJnZU1hcFN1YnNjcmliZXIoZGVzdGluYXRpb24sIHByb2plY3QsIGNvbmN1cnJlbnQpIHtcbiAgICAgICAgaWYgKGNvbmN1cnJlbnQgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgY29uY3VycmVudCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucHJvamVjdCA9IHByb2plY3Q7XG4gICAgICAgIF90aGlzLmNvbmN1cnJlbnQgPSBjb25jdXJyZW50O1xuICAgICAgICBfdGhpcy5oYXNDb21wbGV0ZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuYnVmZmVyID0gW107XG4gICAgICAgIF90aGlzLmFjdGl2ZSA9IDA7XG4gICAgICAgIF90aGlzLmluZGV4ID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBNZXJnZU1hcFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSA8IHRoaXMuY29uY3VycmVudCkge1xuICAgICAgICAgICAgdGhpcy5fdHJ5TmV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlci5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTWVyZ2VNYXBTdWJzY3JpYmVyLnByb3RvdHlwZS5fdHJ5TmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4Kys7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLnByb2plY3QodmFsdWUsIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3RpdmUrKztcbiAgICAgICAgdGhpcy5faW5uZXJTdWIocmVzdWx0KTtcbiAgICB9O1xuICAgIE1lcmdlTWFwU3Vic2NyaWJlci5wcm90b3R5cGUuX2lubmVyU3ViID0gZnVuY3Rpb24gKGlzaCkge1xuICAgICAgICB2YXIgaW5uZXJTdWJzY3JpYmVyID0gbmV3IFNpbXBsZUlubmVyU3Vic2NyaWJlcih0aGlzKTtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gdGhpcy5kZXN0aW5hdGlvbjtcbiAgICAgICAgZGVzdGluYXRpb24uYWRkKGlubmVyU3Vic2NyaWJlcik7XG4gICAgICAgIHZhciBpbm5lclN1YnNjcmlwdGlvbiA9IGlubmVyU3Vic2NyaWJlKGlzaCwgaW5uZXJTdWJzY3JpYmVyKTtcbiAgICAgICAgaWYgKGlubmVyU3Vic2NyaXB0aW9uICE9PSBpbm5lclN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uLmFkZChpbm5lclN1YnNjcmlwdGlvbik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1lcmdlTWFwU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmhhc0NvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSA9PT0gMCAmJiB0aGlzLmJ1ZmZlci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBNZXJnZU1hcFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeU5leHQgPSBmdW5jdGlvbiAoaW5uZXJWYWx1ZSkge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQoaW5uZXJWYWx1ZSk7XG4gICAgfTtcbiAgICBNZXJnZU1hcFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5idWZmZXI7XG4gICAgICAgIHRoaXMuYWN0aXZlLS07XG4gICAgICAgIGlmIChidWZmZXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5fbmV4dChidWZmZXIuc2hpZnQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5hY3RpdmUgPT09IDAgJiYgdGhpcy5oYXNDb21wbGV0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE1lcmdlTWFwU3Vic2NyaWJlcjtcbn0oU2ltcGxlT3V0ZXJTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBNZXJnZU1hcFN1YnNjcmliZXIgfTtcbmV4cG9ydCB2YXIgZmxhdE1hcCA9IG1lcmdlTWFwO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVyZ2VNYXAuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9tZXJnZU1hcCxfdXRpbF9pZGVudGl0eSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBtZXJnZU1hcCB9IGZyb20gJy4vbWVyZ2VNYXAnO1xuaW1wb3J0IHsgaWRlbnRpdHkgfSBmcm9tICcuLi91dGlsL2lkZW50aXR5JztcbmV4cG9ydCBmdW5jdGlvbiBtZXJnZUFsbChjb25jdXJyZW50KSB7XG4gICAgaWYgKGNvbmN1cnJlbnQgPT09IHZvaWQgMCkge1xuICAgICAgICBjb25jdXJyZW50ID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgIH1cbiAgICByZXR1cm4gbWVyZ2VNYXAoaWRlbnRpdHksIGNvbmN1cnJlbnQpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVyZ2VBbGwuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF91dGlsX3N1YnNjcmliZVRvQXJyYXksX3NjaGVkdWxlZF9zY2hlZHVsZUFycmF5IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IHN1YnNjcmliZVRvQXJyYXkgfSBmcm9tICcuLi91dGlsL3N1YnNjcmliZVRvQXJyYXknO1xuaW1wb3J0IHsgc2NoZWR1bGVBcnJheSB9IGZyb20gJy4uL3NjaGVkdWxlZC9zY2hlZHVsZUFycmF5JztcbmV4cG9ydCBmdW5jdGlvbiBmcm9tQXJyYXkoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIGlmICghc2NoZWR1bGVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShzdWJzY3JpYmVUb0FycmF5KGlucHV0KSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gc2NoZWR1bGVBcnJheShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mcm9tQXJyYXkuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyLF9zY2hlZHVsZXJfYXN5bmMgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IGFzeW5jIH0gZnJvbSAnLi4vc2NoZWR1bGVyL2FzeW5jJztcbmV4cG9ydCBmdW5jdGlvbiBkZWJvdW5jZVRpbWUoZHVlVGltZSwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKHNjaGVkdWxlciA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHNjaGVkdWxlciA9IGFzeW5jO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gc291cmNlLmxpZnQobmV3IERlYm91bmNlVGltZU9wZXJhdG9yKGR1ZVRpbWUsIHNjaGVkdWxlcikpOyB9O1xufVxudmFyIERlYm91bmNlVGltZU9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERlYm91bmNlVGltZU9wZXJhdG9yKGR1ZVRpbWUsIHNjaGVkdWxlcikge1xuICAgICAgICB0aGlzLmR1ZVRpbWUgPSBkdWVUaW1lO1xuICAgICAgICB0aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICB9XG4gICAgRGVib3VuY2VUaW1lT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBEZWJvdW5jZVRpbWVTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMuZHVlVGltZSwgdGhpcy5zY2hlZHVsZXIpKTtcbiAgICB9O1xuICAgIHJldHVybiBEZWJvdW5jZVRpbWVPcGVyYXRvcjtcbn0oKSk7XG52YXIgRGVib3VuY2VUaW1lU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhEZWJvdW5jZVRpbWVTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIERlYm91bmNlVGltZVN1YnNjcmliZXIoZGVzdGluYXRpb24sIGR1ZVRpbWUsIHNjaGVkdWxlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZHVlVGltZSA9IGR1ZVRpbWU7XG4gICAgICAgIF90aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICAgICAgX3RoaXMuZGVib3VuY2VkU3Vic2NyaXB0aW9uID0gbnVsbDtcbiAgICAgICAgX3RoaXMubGFzdFZhbHVlID0gbnVsbDtcbiAgICAgICAgX3RoaXMuaGFzVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBEZWJvdW5jZVRpbWVTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmNsZWFyRGVib3VuY2UoKTtcbiAgICAgICAgdGhpcy5sYXN0VmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5oYXNWYWx1ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuYWRkKHRoaXMuZGVib3VuY2VkU3Vic2NyaXB0aW9uID0gdGhpcy5zY2hlZHVsZXIuc2NoZWR1bGUoZGlzcGF0Y2hOZXh0LCB0aGlzLmR1ZVRpbWUsIHRoaXMpKTtcbiAgICB9O1xuICAgIERlYm91bmNlVGltZVN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kZWJvdW5jZWROZXh0KCk7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICB9O1xuICAgIERlYm91bmNlVGltZVN1YnNjcmliZXIucHJvdG90eXBlLmRlYm91bmNlZE5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2xlYXJEZWJvdW5jZSgpO1xuICAgICAgICBpZiAodGhpcy5oYXNWYWx1ZSkge1xuICAgICAgICAgICAgdmFyIGxhc3RWYWx1ZSA9IHRoaXMubGFzdFZhbHVlO1xuICAgICAgICAgICAgdGhpcy5sYXN0VmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5oYXNWYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KGxhc3RWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERlYm91bmNlVGltZVN1YnNjcmliZXIucHJvdG90eXBlLmNsZWFyRGVib3VuY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkZWJvdW5jZWRTdWJzY3JpcHRpb24gPSB0aGlzLmRlYm91bmNlZFN1YnNjcmlwdGlvbjtcbiAgICAgICAgaWYgKGRlYm91bmNlZFN1YnNjcmlwdGlvbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmUoZGVib3VuY2VkU3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgIGRlYm91bmNlZFN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgdGhpcy5kZWJvdW5jZWRTdWJzY3JpcHRpb24gPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRGVib3VuY2VUaW1lU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZnVuY3Rpb24gZGlzcGF0Y2hOZXh0KHN1YnNjcmliZXIpIHtcbiAgICBzdWJzY3JpYmVyLmRlYm91bmNlZE5leHQoKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlYm91bmNlVGltZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXIocHJlZGljYXRlLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGZpbHRlck9wZXJhdG9yRnVuY3Rpb24oc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2UubGlmdChuZXcgRmlsdGVyT3BlcmF0b3IocHJlZGljYXRlLCB0aGlzQXJnKSk7XG4gICAgfTtcbn1cbnZhciBGaWx0ZXJPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBGaWx0ZXJPcGVyYXRvcihwcmVkaWNhdGUsIHRoaXNBcmcpIHtcbiAgICAgICAgdGhpcy5wcmVkaWNhdGUgPSBwcmVkaWNhdGU7XG4gICAgICAgIHRoaXMudGhpc0FyZyA9IHRoaXNBcmc7XG4gICAgfVxuICAgIEZpbHRlck9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgRmlsdGVyU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLnByZWRpY2F0ZSwgdGhpcy50aGlzQXJnKSk7XG4gICAgfTtcbiAgICByZXR1cm4gRmlsdGVyT3BlcmF0b3I7XG59KCkpO1xudmFyIEZpbHRlclN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoRmlsdGVyU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBGaWx0ZXJTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBwcmVkaWNhdGUsIHRoaXNBcmcpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnByZWRpY2F0ZSA9IHByZWRpY2F0ZTtcbiAgICAgICAgX3RoaXMudGhpc0FyZyA9IHRoaXNBcmc7XG4gICAgICAgIF90aGlzLmNvdW50ID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBGaWx0ZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5wcmVkaWNhdGUuY2FsbCh0aGlzLnRoaXNBcmcsIHZhbHVlLCB0aGlzLmNvdW50KyspO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRmlsdGVyU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfbWFwLF9vYnNlcnZhYmxlX2Zyb20sX2lubmVyU3Vic2NyaWJlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBtYXAgfSBmcm9tICcuL21hcCc7XG5pbXBvcnQgeyBmcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9mcm9tJztcbmltcG9ydCB7IFNpbXBsZU91dGVyU3Vic2NyaWJlciwgU2ltcGxlSW5uZXJTdWJzY3JpYmVyLCBpbm5lclN1YnNjcmliZSB9IGZyb20gJy4uL2lubmVyU3Vic2NyaWJlJztcbmV4cG9ydCBmdW5jdGlvbiBzd2l0Y2hNYXAocHJvamVjdCwgcmVzdWx0U2VsZWN0b3IpIHtcbiAgICBpZiAodHlwZW9mIHJlc3VsdFNlbGVjdG9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UucGlwZShzd2l0Y2hNYXAoZnVuY3Rpb24gKGEsIGkpIHsgcmV0dXJuIGZyb20ocHJvamVjdChhLCBpKSkucGlwZShtYXAoZnVuY3Rpb24gKGIsIGlpKSB7IHJldHVybiByZXN1bHRTZWxlY3RvcihhLCBiLCBpLCBpaSk7IH0pKTsgfSkpOyB9O1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gc291cmNlLmxpZnQobmV3IFN3aXRjaE1hcE9wZXJhdG9yKHByb2plY3QpKTsgfTtcbn1cbnZhciBTd2l0Y2hNYXBPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTd2l0Y2hNYXBPcGVyYXRvcihwcm9qZWN0KSB7XG4gICAgICAgIHRoaXMucHJvamVjdCA9IHByb2plY3Q7XG4gICAgfVxuICAgIFN3aXRjaE1hcE9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgU3dpdGNoTWFwU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLnByb2plY3QpKTtcbiAgICB9O1xuICAgIHJldHVybiBTd2l0Y2hNYXBPcGVyYXRvcjtcbn0oKSk7XG52YXIgU3dpdGNoTWFwU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhTd2l0Y2hNYXBTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN3aXRjaE1hcFN1YnNjcmliZXIoZGVzdGluYXRpb24sIHByb2plY3QpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnByb2plY3QgPSBwcm9qZWN0O1xuICAgICAgICBfdGhpcy5pbmRleCA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3dpdGNoTWFwU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleCsrO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5wcm9qZWN0KHZhbHVlLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pbm5lclN1YihyZXN1bHQpO1xuICAgIH07XG4gICAgU3dpdGNoTWFwU3Vic2NyaWJlci5wcm90b3R5cGUuX2lubmVyU3ViID0gZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICB2YXIgaW5uZXJTdWJzY3JpcHRpb24gPSB0aGlzLmlubmVyU3Vic2NyaXB0aW9uO1xuICAgICAgICBpZiAoaW5uZXJTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIGlubmVyU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGlubmVyU3Vic2NyaWJlciA9IG5ldyBTaW1wbGVJbm5lclN1YnNjcmliZXIodGhpcyk7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGRlc3RpbmF0aW9uLmFkZChpbm5lclN1YnNjcmliZXIpO1xuICAgICAgICB0aGlzLmlubmVyU3Vic2NyaXB0aW9uID0gaW5uZXJTdWJzY3JpYmUocmVzdWx0LCBpbm5lclN1YnNjcmliZXIpO1xuICAgICAgICBpZiAodGhpcy5pbm5lclN1YnNjcmlwdGlvbiAhPT0gaW5uZXJTdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbi5hZGQodGhpcy5pbm5lclN1YnNjcmlwdGlvbik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN3aXRjaE1hcFN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGlubmVyU3Vic2NyaXB0aW9uID0gdGhpcy5pbm5lclN1YnNjcmlwdGlvbjtcbiAgICAgICAgaWYgKCFpbm5lclN1YnNjcmlwdGlvbiB8fCBpbm5lclN1YnNjcmlwdGlvbi5jbG9zZWQpIHtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUuX2NvbXBsZXRlLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgU3dpdGNoTWFwU3Vic2NyaWJlci5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmlubmVyU3Vic2NyaXB0aW9uID0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgU3dpdGNoTWFwU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5Q29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaW5uZXJTdWJzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5fY29tcGxldGUuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3dpdGNoTWFwU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5TmV4dCA9IGZ1bmN0aW9uIChpbm5lclZhbHVlKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChpbm5lclZhbHVlKTtcbiAgICB9O1xuICAgIHJldHVybiBTd2l0Y2hNYXBTdWJzY3JpYmVyO1xufShTaW1wbGVPdXRlclN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN3aXRjaE1hcC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuZXhwb3J0IHZhciBFTVBUWSA9IC8qQF9fUFVSRV9fKi8gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHsgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfSk7XG5leHBvcnQgZnVuY3Rpb24gZW1wdHkoc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIHNjaGVkdWxlciA/IGVtcHR5U2NoZWR1bGVkKHNjaGVkdWxlcikgOiBFTVBUWTtcbn1cbmZ1bmN0aW9uIGVtcHR5U2NoZWR1bGVkKHNjaGVkdWxlcikge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikgeyByZXR1cm4gc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfSk7IH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW1wdHkuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyLF9vYnNlcnZhYmxlX2VtcHR5IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBlbXB0eSB9IGZyb20gJy4uL29ic2VydmFibGUvZW1wdHknO1xuZXhwb3J0IGZ1bmN0aW9uIHJlcGVhdChjb3VudCkge1xuICAgIGlmIChjb3VudCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGNvdW50ID0gLTE7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIGlmIChjb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGVtcHR5KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY291bnQgPCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gc291cmNlLmxpZnQobmV3IFJlcGVhdE9wZXJhdG9yKC0xLCBzb3VyY2UpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzb3VyY2UubGlmdChuZXcgUmVwZWF0T3BlcmF0b3IoY291bnQgLSAxLCBzb3VyY2UpKTtcbiAgICAgICAgfVxuICAgIH07XG59XG52YXIgUmVwZWF0T3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVwZWF0T3BlcmF0b3IoY291bnQsIHNvdXJjZSkge1xuICAgICAgICB0aGlzLmNvdW50ID0gY291bnQ7XG4gICAgICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICAgIH1cbiAgICBSZXBlYXRPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IFJlcGVhdFN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5jb3VudCwgdGhpcy5zb3VyY2UpKTtcbiAgICB9O1xuICAgIHJldHVybiBSZXBlYXRPcGVyYXRvcjtcbn0oKSk7XG52YXIgUmVwZWF0U3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhSZXBlYXRTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlcGVhdFN1YnNjcmliZXIoZGVzdGluYXRpb24sIGNvdW50LCBzb3VyY2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmNvdW50ID0gY291bnQ7XG4gICAgICAgIF90aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBSZXBlYXRTdWJzY3JpYmVyLnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdmFyIF9hID0gdGhpcywgc291cmNlID0gX2Euc291cmNlLCBjb3VudCA9IF9hLmNvdW50O1xuICAgICAgICAgICAgaWYgKGNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuY29tcGxldGUuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNvdW50ID4gLTEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvdW50ID0gY291bnQgLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc291cmNlLnN1YnNjcmliZSh0aGlzLl91bnN1YnNjcmliZUFuZFJlY3ljbGUoKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBSZXBlYXRTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXBlYXQuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG52YXIgQXJndW1lbnRPdXRPZlJhbmdlRXJyb3JJbXBsID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9ySW1wbCgpIHtcbiAgICAgICAgRXJyb3IuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gJ2FyZ3VtZW50IG91dCBvZiByYW5nZSc7XG4gICAgICAgIHRoaXMubmFtZSA9ICdBcmd1bWVudE91dE9mUmFuZ2VFcnJvcic7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBBcmd1bWVudE91dE9mUmFuZ2VFcnJvckltcGwucHJvdG90eXBlID0gLypAX19QVVJFX18qLyBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG4gICAgcmV0dXJuIEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9ySW1wbDtcbn0pKCk7XG5leHBvcnQgdmFyIEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yID0gQXJndW1lbnRPdXRPZlJhbmdlRXJyb3JJbXBsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXJndW1lbnRPdXRPZlJhbmdlRXJyb3IuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyLF91dGlsX0FyZ3VtZW50T3V0T2ZSYW5nZUVycm9yLF9vYnNlcnZhYmxlX2VtcHR5IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBBcmd1bWVudE91dE9mUmFuZ2VFcnJvciB9IGZyb20gJy4uL3V0aWwvQXJndW1lbnRPdXRPZlJhbmdlRXJyb3InO1xuaW1wb3J0IHsgZW1wdHkgfSBmcm9tICcuLi9vYnNlcnZhYmxlL2VtcHR5JztcbmV4cG9ydCBmdW5jdGlvbiB0YWtlKGNvdW50KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgaWYgKGNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZW1wdHkoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzb3VyY2UubGlmdChuZXcgVGFrZU9wZXJhdG9yKGNvdW50KSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxudmFyIFRha2VPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUYWtlT3BlcmF0b3IodG90YWwpIHtcbiAgICAgICAgdGhpcy50b3RhbCA9IHRvdGFsO1xuICAgICAgICBpZiAodGhpcy50b3RhbCA8IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBcmd1bWVudE91dE9mUmFuZ2VFcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBUYWtlT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBUYWtlU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLnRvdGFsKSk7XG4gICAgfTtcbiAgICByZXR1cm4gVGFrZU9wZXJhdG9yO1xufSgpKTtcbnZhciBUYWtlU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhUYWtlU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBUYWtlU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgdG90YWwpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnRvdGFsID0gdG90YWw7XG4gICAgICAgIF90aGlzLmNvdW50ID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBUYWtlU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHRvdGFsID0gdGhpcy50b3RhbDtcbiAgICAgICAgdmFyIGNvdW50ID0gKyt0aGlzLmNvdW50O1xuICAgICAgICBpZiAoY291bnQgPD0gdG90YWwpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICBpZiAoY291bnQgPT09IHRvdGFsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFRha2VTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10YWtlLmpzLm1hcFxuIiwiaW1wb3J0IHtcclxuICBjb21iaW5lTGF0ZXN0LFxyXG4gIGZvcmtKb2luLFxyXG4gIGZyb20sXHJcbiAgZnJvbUV2ZW50LFxyXG4gIGludGVydmFsLFxyXG4gIG1lcmdlLFxyXG4gIE9ic2VydmFibGUsXHJcbiAgemlwLFxyXG59IGZyb20gXCJyeGpzXCI7XHJcbmltcG9ydCB7XHJcbiAgZGVib3VuY2VUaW1lLFxyXG4gIGRpc3RpbmN0LFxyXG4gIGZpbHRlcixcclxuICBtYXAsXHJcbiAgcGFpcndpc2UsXHJcbiAgcmVkdWNlLFxyXG4gIHJlcGVhdCxcclxuICByZXRyeSxcclxuICBzYW1wbGVUaW1lLFxyXG4gIHNjYW4sXHJcbiAgc3dpdGNoTWFwLFxyXG4gIHRha2UsXHJcbn0gZnJvbSBcInJ4anMvb3BlcmF0b3JzXCI7XHJcbmltcG9ydCB7IE1vdmllIH0gZnJvbSBcIi4vbW92aWVcIjtcclxuZnVuY3Rpb24gbG9nTW91c2UoKSB7XHJcbiAgZnJvbUV2ZW50KGRvY3VtZW50LCBcIm1vdXNlbW92ZVwiKVxyXG4gICAgLnBpcGUoXHJcbiAgICAgIC8vUHJ2aSBwYXJhbWV0YXIgamUgdGFyZ2V0IChPZGFrbGUgdXppbWFtbyBldmVudClcclxuICAgICAgLy9EcnVnaSBwYXJhbWV0YXIgamUga29qaSBqZSB0byBldmVudChTdHJpbmcpXHJcbiAgICAgIG1hcCgoZXY6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgLy9WcmFjYW1vIG9iamVjdFxyXG4gICAgICAgICAgeDogZXYuc2NyZWVuWCwgLy9YIGtvb3JkaW5hdGEgbWlzYVxyXG4gICAgICAgICAgeTogZXYuc2NyZWVuWSwgLy9ZIGtvb3JkaW5hdGEgbWlzYVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0pLFxyXG4gICAgICBzYW1wbGVUaW1lKDEwMDApIC8vTmEgc3Zha3Ugc2VrdW5kdSB1emltYSBwb3NsZWRuanUgZW1pdG92YW51IHZyZWRub3N0XHJcbiAgICApXHJcbiAgICAuc3Vic2NyaWJlKChjb3JkcykgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhgWDogJHtjb3Jkcy54fSAmIFk6ICR7Y29yZHMueX1gKTsgLy9TdGFtcGFtbyBrb29yZGluYXRlXHJcbiAgICB9KTtcclxufVxyXG5cclxuLy8gZnVuY3Rpb24gY3JlYXRlTW92aWVTZWFyY2goKXtcclxuXHJcbi8vICAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcclxuLy8gICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaW5wdXQpO1xyXG4vLyAgICAgZnJvbUV2ZW50KGlucHV0LFwiaW5wdXRcIikucGlwZSgvL1JlYWd1amUgbmEgc3Zha28gcHJldGlzbnV0byBkdWdtZSwgdGogbmEgc3Zha2kgdW5ldCBrYXJha3RlciB1IElOUFVUIEJPWCBpIHByaWthenVqZSBzdGEgc2UgdHJlbnV0biBuYWxhemksIHRqIG1pIG11IHV6aW1hbW8gdmFsdWVcclxuXHJcbi8vICAgICAgICAgZGVib3VuY2VUaW1lKDcwMCksLy9LYWRhIHVuZXNlbW8ga2FyYWt0ZXIsIGkgbmFrb24gb2RyZWRqZW5vZyB2cmVtZW5hIG5lIHVuZXNlbW8gbmlzdGEsIHRlayBvbmRhIHNlIG9raWRhIGV2ZW50IChWcmVtZSBqZSBwYXJhbWV0YXIgdSB6YWdyYWRpKVxyXG4vLyAgICAgICAgIG1hcCgoZXY6IElucHV0RXZlbnQpID0+ICg8SFRNTElucHV0RWxlbWVudD5ldi50YXJnZXQpLnZhbHVlKSwvL092byB6YSB0YXJnZXQgamUgY2FzdCwgcHJ2byA8PiBwYSBzdmUgdSB6YWdyYWRpOyBQcnZvIHBvbW9jdSBldmVudGEgZG9iaWphbW8gaW5vdXQgYm94IG9kYWtsZSBjZW1vIGRhIHZhZGltbyB2YWx1ZVxyXG4vLyAgICAgICAgIGZpbHRlcih0ZXh0ID0+IHRleHQubGVuZ3RoPj0zKS8vU2FtbyBha28gaW1hIDMgaWxpIHZpc2Ugc2xvdmEgdSBib3gtdVxyXG4vLyAgICAgKS5zdWJzY3JpYmUoKG1vdmllOiBzdHJpbmcpID0+IGNvbnNvbGUubG9nKG1vdmllKSk7XHJcbi8vIH1cclxuXHJcbi8vIGNyZWF0ZU1vdmllU2VhcmNoKCk7XHJcbi8vbG9nTW91c2UoKTtcclxuLy9JIG5hY2luXHJcbi8vIHJldHVybntcclxuLy8gICAgIHg6IGV2LnNjcmVlblgsXHJcbi8vICAgICB5OiBldi5zY3JlZW5ZXHJcblxyXG4vLyB9XHJcbi8vTW96ZSBkYSBzZSBuYXBpc2UgZHJ1Z2FjaWplIGthZCBuZW1hbW8gdGVsbyBmdW5rY2lqZSwgdmVjIHNhbW8gcmV0dXJuXHJcbi8vSUkgbmFjaW5cclxuLy8gKHtcclxuLy8gICAgIHg6IGV2LnNjcmVlblgsXHJcbi8vICAgICB5OiBldi5zY3JlZW5ZXHJcbi8vIH0pXHJcblxyXG5jb25zdCBBUElfVVJMID0gXCJodHRwOi8vbG9jYWxob3N0OjMwMDBcIjtcclxuXHJcbmZ1bmN0aW9uIGdldE1vdmllc09ic2VydmFibGVCeVRpdGxlKHRpdGxlOiBzdHJpbmcpOiBPYnNlcnZhYmxlPE1vdmllW10+IHtcclxuICAvL092YSBmdW5rY2lqYSB2cmFjYSBGZXRjaCBhIHRvIGplIFByb21pc2UsIGFsaSBha28gc3RhdmltbyBzdmUgdSBmb3JtIHZyYWNhIE9ic2VydmFibGVcclxuXHJcbiAgcmV0dXJuIGZyb20oXHJcbiAgICBmZXRjaChBUElfVVJMICsgXCIvbW92aWVzLz90aXRsZT1cIiArIHRpdGxlKVxyXG4gICAgICAudGhlbigocmVzbm9zZSkgPT4ge1xyXG4gICAgICAgIGlmIChyZXNub3NlLm9rKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzbm9zZS5qc29uKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1vdmllIG5vdCBmb3VuZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG4gICk7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlTW92aWVTZWFyY2goKSB7XHJcbiAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpbnB1dCk7XHJcbiAgZnJvbUV2ZW50KGlucHV0LCBcImlucHV0XCIpXHJcbiAgICAucGlwZShcclxuICAgICAgLy9SZWFndWplIG5hIHN2YWtvIHByZXRpc251dG8gZHVnbWUsIHRqIG5hIHN2YWtpIHVuZXQga2FyYWt0ZXIgdSBJTlBVVCBCT1ggaSBwcmlrYXp1amUgc3RhIHNlIHRyZW51dG4gbmFsYXppLCB0aiBtaSBtdSB1emltYW1vIHZhbHVlXHJcblxyXG4gICAgICBkZWJvdW5jZVRpbWUoNzAwKSwgLy9LYWRhIHVuZXNlbW8ga2FyYWt0ZXIsIGkgbmFrb24gb2RyZWRqZW5vZyB2cmVtZW5hIG5lIHVuZXNlbW8gbmlzdGEsIHRlayBvbmRhIHNlIG9raWRhIGV2ZW50IChWcmVtZSBqZSBwYXJhbWV0YXIgdSB6YWdyYWRpKVxyXG4gICAgICBtYXAoKGV2OiBJbnB1dEV2ZW50KSA9PiAoPEhUTUxJbnB1dEVsZW1lbnQ+ZXYudGFyZ2V0KS52YWx1ZSksIC8vT3ZvIHphIHRhcmdldCBqZSBjYXN0LCBwcnZvIDw+IHBhIHN2ZSB1IHphZ3JhZGk7IFBydm8gcG9tb2N1IGV2ZW50YSBkb2JpamFtbyBpbm91dCBib3ggb2Rha2xlIGNlbW8gZGEgdmFkaW1vIHZhbHVlXHJcbiAgICAgIGZpbHRlcigodGV4dCkgPT4gdGV4dC5sZW5ndGggPj0gMyksIC8vU2FtbyBha28gaW1hIDMgaWxpIHZpc2Ugc2xvdmEgdSBib3gtdVxyXG4gICAgICBzd2l0Y2hNYXAoKHRpdGxlKSA9PiBnZXRNb3ZpZXNPYnNlcnZhYmxlQnlUaXRsZSh0aXRsZSkpLCAvL1ByZWJhY3VqZW1vIHNlIHNhIGplZG5vZyB0b2thIG5hIGRydWdpOyBPdm8gdGl0bGUgamUgaXpsYXogaXogcHJvdm9nIHRva2EgaSB1bGF6IHUgZHJ1Z2lcclxuICAgICAgcmVwZWF0KDUpLCAvL0lsaSByZXRyeSgpOyBQb25hdmxqYSBzdmUgb25vbGlrbyBwdXRha29saWtvIHUgemFncmFkaSwgb24gcG9uYXZsamEgbmplZ292IHJlc29yY2UgKFBhcnRlbnQpIE9ic2VydmVyLCBzYW1vIGJleiBlcnJvci1hLCBrb3Jpc3RpIHNlIGRhIHNlIHZpc2UgcHV0YSBwb3pvdmUgc2VydmVyXHJcbiAgICAgIG1hcCgobW92aWVzKSA9PiBtb3ZpZXNbMF0pIC8vUG9zbGUgc3dpdGNoTWFwLCBtZW5qYSBzZSBvYmpla2F0IHNhIGtvamltIHJhZGltbyBwYSBqZSBzYWQgb2JqZWthdCBtb3ZpZSB1bWVzdG8gdGl0bGUoU2FkcnphaiBpbnB1dCBib3gtYSlcclxuICAgIClcclxuICAgIC5zdWJzY3JpYmUoKG1vdmllOiBNb3ZpZSkgPT4gc2hvd01vdmllKG1vdmllKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNob3dNb3ZpZShtb3ZpZTogTW92aWUpIHtcclxuICBpZiAoIW1vdmllKSB7XHJcbiAgICAvL0RhIGxpIGplIHByb25hc2FvIGZpbG0gcHJvdmVyYVxyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuICBjb25zdCBtb3ZpZUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xyXG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobW92aWVMYWJlbCk7XHJcbiAgbW92aWVMYWJlbC5pbm5lckhUTUwgPSBgVGl0bGU6ICR7bW92aWUudGl0bGV9IFNjb3JlOiAke21vdmllLnNjb3JlfSBZZWFyOiAke21vdmllLnllYXJ9YDtcclxufVxyXG5cclxuY3JlYXRlTW92aWVTZWFyY2goKTtcclxuLy9DQVMgNSAoVHJhbnNmb3JtYWNpb25pIGkga29tYmluYWNpb25pKVxyXG5cclxuLy9UcmFuc2Zvcm1hY2lvbmlcclxuXHJcbi8vIGNvbnN0IG51bWJlciQgPSBmcm9tKFsxLCA1LCAtNCwgMCwgOCwgMywgMiwgNywgLTYsIDgsIDgsIDgsIC0zLCAtMl0pOyAvL0RvbGFyIG5hIGtyYWp1IG96bmFjYXZhIHRvayBwb2RhdGFrYVxyXG4vLyBudW1iZXIkXHJcbi8vICAgLnBpcGUoXHJcbi8vICAgICBmaWx0ZXIoKHgpID0+IHggPiAwKSxcclxuLy8gICAgIC8vc2NhbigoYWNjLCBicm9qKSA9PiBhY2MgKyBicm9qLCAwKS8vUmFkaSBrYW8gZmlsdGVyIGYtamEsIG1vemVtbyBkYSBrb3Jpc3RpbW8gdnJlbm9zdCBpeiBwcmVkaG9kbmUgaXRlcmFjaWplXHJcbi8vICAgICAvL3BhaXJ3aXNlKCkvL1VwYXJ1amUgZHZlIHN1c2VkbmUgaXRlcmFjaWplIGkgdnJhY2EgcGFyIChOaXogb2QgMiBlbGVtZW50YSlcclxuLy8gICAgIGRpc3RpbmN0KCkgLy9JemJhY3VqZSBkdXBsaWthdGUgdnJlZG5vc3RpXHJcbi8vICAgKVxyXG4vLyAgIC5zdWJzY3JpYmUoKGJyb2opID0+IGNvbnNvbGUubG9nKGJyb2opKTtcclxuXHJcbi8vS29tYmluYWNpb25pXHJcblxyXG5jb25zdCBzdHJlYW0xID0gaW50ZXJ2YWwoMTAwMCkucGlwZShcclxuICBtYXAoKHgpID0+IGBwcnZpIHN0cmVhbTogJHt4fWApLFxyXG4gIHRha2UoNSlcclxuKTtcclxuXHJcbmNvbnN0IHN0cmVhbTIgPSBpbnRlcnZhbCg1MDApLnBpcGUoXHJcbiAgbWFwKCh4KSA9PiBgZHJ1Z2kgc3RyZWFtOiAke3h9YCksXHJcbiAgdGFrZSg3KVxyXG4pO1xyXG5cclxuLy8gZm9ya0pvaW4oW3N0cmVhbTEsIHN0cmVhbTJdKS8vQ2VrYSBkb2sgc2Ugb2JhIHN0cmVhbS1hIG5lIGl6dnJlIGkgb25kYSBwb3NhbGplIHBvc2xlZG5qZSBlbWl0b3ZhbmUgdnJlZG5vc3RpIGl6IHN2YWtvZyBzdHJlYW0tYSBrYW8gbml6XHJcbi8vICAgLnBpcGUoKVxyXG4vLyAgIC5zdWJzY3JpYmUoKHgpID0+IGNvbnNvbGUubG9nKHgpKTtcclxuXHJcbi8vemlwKHN0cmVhbTEsIHN0cmVhbTIpLnN1YnNjcmliZSgoeCkgPT4gY29uc29sZS5sb2coeCkpOyAvL0Nla2EgZGEgc2UgcG9qYXZpIHBhciAoSmVkYW4gaXogcHJ2b2cgaSBqZWRhbiBpeiBkcnVnb2cgc3RyZWFtLWEgaSB0ZWsgb25kYSBlbWl0dWplKTsgaXN0byB2YXppIGkga2FkIGltYSB2aXNlIHRva292YSwgY2VrYSBkYSBzZSBwb2phdmkgaXogU1ZBS09HIHBvIGplZGFuXHJcblxyXG4vL2NvbWJpbmVMYXRlc3QoW3N0cmVhbTEsIHN0cmVhbTJdKS5zdWJzY3JpYmUoKHgpID0+IGNvbnNvbGUubG9nKHgpKTsgLy9DSW0gc2UgZW1pdHVqZSB2cmVkbm9zdCBpeiBqZWRub2cgb2Qgc3RyZWFtLW92YSwgb24gdXppbWEgcG9zbGVkbmp1IGRvc3R1cG51IChlbWl0b3ZhbnUpIGl6IG9zdGFsaWggaSB0YWtvIGVtaXR1amU7IHBvY2luamUgZGEgZW1pdHVqZSBrYWRhIHN2YWtpIHRvayBpbWEgYmFyZW0gamVkbnUgZW1pdG92YW51IHZyZWRub3N0XHJcblxyXG5tZXJnZShzdHJlYW0xLCBzdHJlYW0yKS5zdWJzY3JpYmUoKHgpID0+IGNvbnNvbGUubG9nKHgpKTtcclxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfdXRpbF9pc1NjaGVkdWxlcixfb3BlcmF0b3JzX21lcmdlQWxsLF9mcm9tQXJyYXkgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgaXNTY2hlZHVsZXIgfSBmcm9tICcuLi91dGlsL2lzU2NoZWR1bGVyJztcbmltcG9ydCB7IG1lcmdlQWxsIH0gZnJvbSAnLi4vb3BlcmF0b3JzL21lcmdlQWxsJztcbmltcG9ydCB7IGZyb21BcnJheSB9IGZyb20gJy4vZnJvbUFycmF5JztcbmV4cG9ydCBmdW5jdGlvbiBtZXJnZSgpIHtcbiAgICB2YXIgb2JzZXJ2YWJsZXMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBvYnNlcnZhYmxlc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICB2YXIgY29uY3VycmVudCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICB2YXIgc2NoZWR1bGVyID0gbnVsbDtcbiAgICB2YXIgbGFzdCA9IG9ic2VydmFibGVzW29ic2VydmFibGVzLmxlbmd0aCAtIDFdO1xuICAgIGlmIChpc1NjaGVkdWxlcihsYXN0KSkge1xuICAgICAgICBzY2hlZHVsZXIgPSBvYnNlcnZhYmxlcy5wb3AoKTtcbiAgICAgICAgaWYgKG9ic2VydmFibGVzLmxlbmd0aCA+IDEgJiYgdHlwZW9mIG9ic2VydmFibGVzW29ic2VydmFibGVzLmxlbmd0aCAtIDFdID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgY29uY3VycmVudCA9IG9ic2VydmFibGVzLnBvcCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBsYXN0ID09PSAnbnVtYmVyJykge1xuICAgICAgICBjb25jdXJyZW50ID0gb2JzZXJ2YWJsZXMucG9wKCk7XG4gICAgfVxuICAgIGlmIChzY2hlZHVsZXIgPT09IG51bGwgJiYgb2JzZXJ2YWJsZXMubGVuZ3RoID09PSAxICYmIG9ic2VydmFibGVzWzBdIGluc3RhbmNlb2YgT2JzZXJ2YWJsZSkge1xuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZXNbMF07XG4gICAgfVxuICAgIHJldHVybiBtZXJnZUFsbChjb25jdXJyZW50KShmcm9tQXJyYXkob2JzZXJ2YWJsZXMsIHNjaGVkdWxlcikpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVyZ2UuanMubWFwXG4iXSwic291cmNlUm9vdCI6IiJ9